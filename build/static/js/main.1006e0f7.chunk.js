(this["webpackJsonpzinox-tdplus"]=this["webpackJsonpzinox-tdplus"]||[]).push([[0],{47:function(e,t,s){},87:function(e,t,s){"use strict";s.r(t);var a=s(0),i=s(1),c=s.n(i),n=s(18),r=s.n(n),d=s(37),l=s.n(d),h=s(39),j=s(11),u=(s(46),s(38)),m=s.n(u),o=(s(47),s(9)),b=s(3),k=s(4),x=s(7),p=s(6),O=s(5),g=s(2),v=s.n(g),N=s(10),w="http://cloud.zinoxtechnologies.com",f=s.p+"static/media/tdlogo.20c9be8f.svg",_=s.p+"static/media/loader.ed827ea0.svg",y=new N.a,S=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).state={email:"",password:"",isProcessing:!1,authError:!1},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({isProcessing:!0});var t=this,s={email:this.state.email,password:this.state.password};v.a.post(w+"/api/tdlogin/",s).then((function(e){204===e.status&&""===e.data?t.setState({authError:!0,isProcessing:!1}):(t.setState({authError:!1}),0===e.data[0].status?(y.set("current_session",e.data[0]._id,{path:"/",expires:new Date(Date.now()+18e5)}),t.props.history.push("/password-change")):2===e.data[0].status?(alert("Your Account is Deactivated.\r\n Kindly Contact Your TDPlus Adminstrator For Further Assistance."),t.setState({isProcessing:!1})):(y.set("user_type",e.data[0].user_type,{path:"/",expires:new Date(Date.now()+18e5)}),y.set("current_session",e.data[0]._id,{path:"/",expires:new Date(Date.now()+18e5)}),t.props.history.push("/dashboard")))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("section",{className:"uk-section uk-section-muted","data-uk-height-viewport":!0,children:Object(a.jsx)("div",{className:"uk-container",children:Object(a.jsxs)("div",{className:"uk-position-cover uk-flex uk-flex-center uk-flex-middle uk-flex-column uk-text-left",children:[Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsx)("img",{src:f,alt:"logo",width:"300"})}),Object(a.jsxs)("div",{className:"uk-card uk-card-default uk-card-body ",children:[Object(a.jsx)("p",{children:"You are connecting to:"}),Object(a.jsx)("h4",{className:"uk-text-left orange uk-margin-remove",children:"TDPlus Support Dashboard"}),Object(a.jsxs)("form",{className:"uk-margin-medium-top",method:"POST",onSubmit:this.handleSubmit,children:[this.state.authError&&Object(a.jsx)("div",{className:"uk-alert-danger","data-uk-alert":!0,children:Object(a.jsx)("p",{children:"Error! Incorrect username or password"})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsx)("input",{className:"uk-input uk-width-medium",type:"text",name:"email",placeholder:"Username (Email)",onChange:this.handleInputChange,required:!0})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsx)("input",{className:"uk-input uk-width-medium",type:"password",name:"password",placeholder:"Password",onChange:this.handleInputChange,required:!0})}),Object(a.jsxs)("div",{className:"uk-margin",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-button-small uk-width-1-1@m orange_btn",children:"LOGIN"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Verifying Login Details"]})]}),Object(a.jsx)("p",{className:"uk-text-meta orange uk-margin-small serial_example",children:"Forgot your username or password?"})]})]})]})})}),Object(a.jsx)("section",{className:"uk-position-bottom uk-section-default uk-padding-small ",children:Object(a.jsx)("p",{className:"uk-text-left uk-text-bold footer_subtxt uk-margin-remove",children:"\xa9 2020 Zinox Technologies Ltd."})})]})}}]),s}(c.a.Component),C=s.p+"static/media/plus.523d2215.svg",D=s.p+"static/media/search.fdb6876a.svg",T=s.p+"static/media/close.34742b6e.svg",P=s.p+"static/media/report.5f331b2c.svg",I=s.p+"static/media/logout.03c865ab.svg",A=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"uk-visible@s td_nav_bar",children:Object(a.jsxs)("div",{className:"uk-padding-small uk-margin-top",children:[Object(a.jsx)("img",{src:f,width:"180",alt:"tdplus zinox logo"}),Object(a.jsx)("p",{className:"td_nav_bar_title",children:Object(a.jsx)("a",{href:"/dashboard",className:"orange",children:"Dashboard"})}),Object(a.jsx)("hr",{}),Object(a.jsxs)("ul",{className:"uk-nav uk-nav-default",children:[Object(a.jsx)("li",{children:Object(a.jsxs)("a",{className:"",href:"/create-job",children:[Object(a.jsx)("img",{src:C,width:"20",alt:""}),"  Create Job Ticket"]})}),Object(a.jsx)("li",{children:Object(a.jsxs)("a",{className:"",href:"/create-job-offline",children:[Object(a.jsx)("img",{src:C,width:"20",alt:""}),"  Create Job Ticket [ No Serial ]"]})}),Object(a.jsx)("li",{children:Object(a.jsxs)("a",{className:"",href:"/search",children:[Object(a.jsx)("img",{src:D,width:"20",alt:""}),"  Search Job Ticket"]})}),Object(a.jsx)("li",{children:Object(a.jsxs)("a",{className:"",href:"/close-ticket-search",children:[Object(a.jsx)("img",{src:T,width:"20",alt:""}),"  Close Job Ticket"]})}),Object(a.jsx)("li",{children:Object(a.jsxs)("a",{className:"",href:"/reports",children:[Object(a.jsx)("img",{src:P,width:"20",alt:""}),"  Reports"]})}),Object(a.jsx)("li",{children:Object(a.jsxs)("a",{className:"",href:"/logout",children:[Object(a.jsx)("img",{src:I,width:"20",alt:""}),"  Logout"]})})]})]})})}}]),s}(i.Component),E=s.p+"static/media/plusbtn.69d2cd10.svg",J=s.p+"static/media/jobbtn.91d8805d.svg",U=s.p+"static/media/searchbtn.4bab65cf.svg",W=s.p+"static/media/reportbtn.be10174a.svg",R=s.p+"static/media/closebtn.85a67778.svg",M=s.p+"static/media/user.f990b66c.svg",q=s.p+"static/media/engr.595e8b12.svg",H=s.p+"static/media/dept.0738a789.svg",F=new N.a,L=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).checkcookie=function(){""!==F.get("current_session")&&void 0!==F.get("current_session")||a.props.history.push("/")},a.getUser=function(){v.a.get(w+"/api/tdgetuser/"+F.get("current_session")).then((function(e){a.setState({user:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getOpenTickets=function(){v.a.get(w+"/api/getopen/").then((function(e){a.setState({OpenTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getPendingTickets=function(){v.a.get(w+"/api/getpending/").then((function(e){a.setState({PendingTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getOnHoldTickets=function(){v.a.get(w+"/api/getonhold/").then((function(e){a.setState({OnHoldTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getAwaitingTickets=function(){v.a.get(w+"/api/getpartsawaiting/").then((function(e){a.setState({AwaitingTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getRecievedTickets=function(){v.a.get(w+"/api/getpartsrecieved/").then((function(e){a.setState({RecievedTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getClosedTickets=function(){v.a.get(w+"/api/getclosed/").then((function(e){a.setState({ClosedTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={OpenTickets:0,PendingTickets:0,OnHoldTickets:0,AwaitingTickets:0,RecievedTickets:0,ClosedTickets:0,user:[]},a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.checkcookie(),this.getUser(),this.getOpenTickets(),this.getPendingTickets(),this.getOnHoldTickets(),this.getAwaitingTickets(),this.getRecievedTickets(),this.getClosedTickets()}},{key:"render",value:function(){console.log(isNaN(this.state.OpenTickets));var e=this.state.OpenTickets+this.state.PendingTickets+this.state.OnHoldTickets+this.state.AwaitingTickets+this.state.RecievedTickets+this.state.ClosedTickets;return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding ",children:[Object(a.jsx)("h3",{className:"orange uk-text-bold uk-margin-remove",children:"Hello, TDPlus Administrator  "}),Object(a.jsxs)("h5",{className:"uk-text-bold uk-margin-remove",children:[" ",this.state.user.name," (",this.state.user.email,")"]}),Object(a.jsx)("p",{className:"uk-margin-large-bottom",children:"Welcome to your Dashboard"}),Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsxs)("div",{className:"uk-width-1-4@l uk-width-1-3@m uk-width-1-2@s",children:[Object(a.jsxs)("p",{className:"uk-margin-remove",children:["Open Jobs ",Object(a.jsxs)("span",{className:"open_percentage uk-margin-left",children:[(100*this.state.OpenTickets/e).toFixed(1),"%"]})]}),Object(a.jsx)("h1",{className:"uk-margin-remove uk-heading-large uk-text-bold ",children:this.state.OpenTickets}),Object(a.jsxs)("p",{className:"uk-margin-remove",children:[this.state.OpenTickets," Devices"]})]}),Object(a.jsxs)("div",{className:"uk-width-1-4@l uk-width-1-3@m uk-width-1-2@s",children:[Object(a.jsxs)("p",{className:"uk-margin-remove",children:["Pending Jobs ",Object(a.jsxs)("span",{className:"pending_percentage uk-margin-left",children:[(100*(this.state.PendingTickets+this.state.AwaitingTickets+this.state.RecievedTickets)/e).toFixed(1),"%"]})]}),Object(a.jsxs)("h1",{className:"uk-margin-remove uk-heading-large uk-text-bold ",children:[this.state.PendingTickets+this.state.AwaitingTickets+this.state.RecievedTickets," "]}),Object(a.jsxs)("p",{className:"uk-margin-remove",children:[this.state.PendingTickets+this.state.AwaitingTickets+this.state.RecievedTickets,"  Devices"]})]}),Object(a.jsxs)("div",{className:"uk-width-1-4@l uk-width-1-3@m uk-width-1-2@s",children:[Object(a.jsxs)("p",{className:"uk-margin-remove",children:["Jobs On-Hold ",Object(a.jsxs)("span",{className:"onhold_percentage uk-margin-left",children:[(100*this.state.OnHoldTickets/e).toFixed(1),"%"]})]}),Object(a.jsxs)("h1",{className:"uk-margin-remove uk-heading-large uk-text-bold ",children:[this.state.OnHoldTickets," "]}),Object(a.jsxs)("p",{className:"uk-margin-remove",children:[this.state.OnHoldTickets,"  Devices"]})]}),Object(a.jsxs)("div",{className:"uk-width-1-4@l uk-width-1-3@m uk-width-1-2@s",children:[Object(a.jsxs)("p",{className:"uk-margin-remove",children:["Closed Jobs ",Object(a.jsxs)("span",{className:"closed_percentage uk-margin-left",children:[(100*this.state.ClosedTickets/e).toFixed(1),"%"]})]}),Object(a.jsx)("h1",{className:"uk-margin-remove uk-heading-large uk-text-bold ",children:this.state.ClosedTickets}),Object(a.jsxs)("p",{className:"uk-margin-remove",children:[this.state.ClosedTickets," Devices"]})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsxs)("div",{className:"uk-margin-medium-top ","data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m ",children:Object(a.jsx)("a",{href:"/create-job",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-small uk-card-body uk-text-left tool_card",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-6",children:Object(a.jsx)("img",{src:E,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-small",children:"Create New Job Ticket "}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-small",children:"Verify Online Warranty Status and Create Support Ticket "})]})]})})})}),Object(a.jsx)("div",{className:"uk-width-1-2@m ",children:Object(a.jsx)("a",{href:"/create-job-offline",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-body uk-card-small uk-text-left tool_card",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-6",children:Object(a.jsx)("img",{src:J,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-small",children:"Create Job Ticket [ No Serial ]"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-small",children:"Create a new Job Ticket and Upload Proof of Payment"})]})]})})})}),Object(a.jsx)("div",{className:"uk-width-1-2@m ",children:Object(a.jsx)("a",{href:"/search",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-body  uk-card-small uk-text-left tool_card",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-6",children:Object(a.jsx)("img",{src:U,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal",children:"Search Job Tickets"}),Object(a.jsx)("p",{className:"uk-text-small",children:"Search Support Tickets and Update Status "})]})]})})})}),Object(a.jsx)("div",{className:"uk-width-1-2@m ",children:Object(a.jsx)("a",{href:"/close-ticket-search",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-body uk-card-small uk-text-left tool_card",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-6",children:Object(a.jsx)("img",{src:R,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal",children:"Close Job Ticket"}),Object(a.jsx)("p",{className:"uk-text-small",children:"Search for Device Warranty and Create Support Ticket "})]})]})})})}),Object(a.jsx)("div",{className:"uk-width-1-2@m ",children:Object(a.jsx)("a",{href:"/reports",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-body uk-card-small uk-text-left tool_card",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-6",children:Object(a.jsx)("img",{src:W,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal",children:"Reports"}),Object(a.jsx)("p",{className:"uk-text-small",children:"Search and Generate Reports"})]})]})})})}),"1"===F.get("user_type")&&Object(a.jsx)("div",{className:"uk-width-1-2@m ",children:Object(a.jsx)("a",{href:"/manage-user",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-body uk-card-small uk-text-left tool_card",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-6",children:Object(a.jsx)("img",{src:M,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal",children:"Manage Users"}),Object(a.jsx)("p",{className:"uk-text-small",children:"Manage TDPlus Administrator Users"})]})]})})})}),"1"===F.get("user_type")&&Object(a.jsx)("div",{className:"uk-width-1-2@m ",children:Object(a.jsx)("a",{href:"/manage-engineer",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-body uk-card-small uk-text-left tool_card",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-6",children:Object(a.jsx)("img",{src:q,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal",children:"Manage Engineers"}),Object(a.jsx)("p",{className:"uk-text-small",children:"Manage TDPlus Engineers"})]})]})})})}),"1"===F.get("user_type")&&Object(a.jsx)("div",{className:"uk-width-1-2@m ",children:Object(a.jsx)("a",{href:"/manage-department",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-body uk-card-small uk-text-left tool_card",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-6",children:Object(a.jsx)("img",{src:H,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal",children:"Manage Departments"}),Object(a.jsx)("p",{className:"uk-text-small",children:"Manage TDPlus Departments"})]})]})})})})]})]})})})]})})}}]),s}(c.a.Component),V=s.p+"static/media/active_warranty.7224fe85.svg",G=s.p+"static/media/expired_warranty.e33db200.svg",B=s.p+"static/media/no_warranty.9d65dd91.svg",K=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){if(this.props.data.deviceActivatedContent){var e=new Date,t="",s="";new Date(this.props.data.deviceActivatedContent.warranty_end_date)>=e?(t=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"green",children:"Active"})]}),s=Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("a",{href:"/create-job/"+this.props.data.deviceActivatedContent._id,className:"uk-button uk-margin uk-margin-top green_btn",children:"Proceed"})})):new Date(this.props.data.deviceActivatedContent.warranty_end_date)<e&&(t=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:G,alt:"expired warranty "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"amber",children:"Expired (Out of Warranty)"})]}),s=Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("a",{href:"/create-job/"+this.props.data.deviceActivatedContent._id,className:"uk-button uk-margin uk-margin-top orange_btn",children:"Proceed"})}))}return Object(a.jsxs)("div",{className:"uk-margin-top",children:[t,this.props.data.deviceNotFound&&Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold red",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:B,alt:"no warranty "}),"Device Not Found!"]}),this.props.data.deviceActivatedContent&&Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-small",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Name"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.props.data.deviceActivatedContent.product_id[0].item_detail+" - "+this.props.data.deviceActivatedContent.product_id[0].item_number})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.props.data.deviceActivatedContent.product_id[0].item_number})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.props.data.deviceActivatedContent.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsxs)("p",{children:[" ",this.props.data.deviceActivatedContent.product_id[0].description]})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Start Date"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:new Date(this.props.data.deviceActivatedContent.warranty_start_date).toDateString()})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"End Date"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:new Date(this.props.data.deviceActivatedContent.warranty_end_date).toDateString()})}),s]}),this.props.data.deviceActivatedContentw&&Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-small",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.props.data.deviceActivatedContent.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Start Date"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:new Date(this.props.data.deviceActivatedContent.warranty_start_date).toDateString()})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"End Date"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:new Date(this.props.data.deviceActivatedContent.warranty_end_date).toDateString()})}),s]}),this.props.data.deviceNotFound&&Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-small",children:[Object(a.jsxs)("div",{className:"uk-width-2-3@m",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-small",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.props.data.serial})})]}),Object(a.jsx)("div",{className:"red_card uk-card-body uk-margin-top",children:Object(a.jsxs)("p",{children:["The Product Serial : ",Object(a.jsx)("span",{className:"uk-text-bold",children:this.props.data.serial})," Cannot be found in the system.",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),"Kindly Proceed with creating a [No Serial] Job ticket with the Button Below"]})})]}),Object(a.jsx)("div",{className:"uk-width-1-3"}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("a",{href:"/activate-warranty",className:"uk-button uk-margin uk-margin-top slider_btn",children:"Create Job Ticket [No Serial]"})})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("a",{href:"/dashboard",className:"uk-button uk-margin slider_btn",children:"Back to Dashboard"})]})}}]),s}(c.a.Component),Y=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).checkWarranty=function(e){e.preventDefault();var t={serial:a.state.serial};a.setState({isProcessing:!0,deviceActivated:!1,deviceActivatedContent:"",deviceNotFound:!1}),v.a.post(w+"/api/checkwarrantyserial",t).then((function(e){a.setState({isProcessing:!1}),204===e.status&&""===e.data&&a.setState({deviceNotFound:!0,showResult:!0}),200===e.status&&1===e.data[0].status&&a.setState({deviceActivated:!0,showResult:!0,deviceActivatedContent:e.data[0]}),200===e.status&&0===e.data[0].status&&a.props.history.push("/create-job-offline")})).catch((function(e){e.response&&console.log(e)}))},a.state={serial:"",showResult:!1,isProcessing:!1,deviceNotFound:!1,deviceActivated:!0},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.checkWarranty=a.checkWarranty.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:E,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Create New Job Ticket "}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Verify Online Warranty Status and Create Support Ticket "})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsx)("h4",{className:"uk-text-bold",children:"Warranty Check"}),Object(a.jsxs)("form",{method:"POST","data-uk-grid":!0,onSubmit:this.checkWarranty,children:[Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Serial Number ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"serial",placeholder:"Serial Number",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-margin-top uk-width-auto",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Check Warranty"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Checking for Serial..."]})]})]})]})}),this.state.showResult&&Object(a.jsx)(K,{data:this.state})]})})})]})})}}]),s}(c.a.Component),z=s(15),Z=window.location.href.split("/").pop(),Q=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getWarranty=function(){v.a.get(w+"/api/findwarrantyserial/"+Z).then((function(e){a.setState({device:e.data},(function(){var e=new Date;new Date(this.state.device.warranty_end_date)>=e?this.setState({warranty_status:1}):new Date(this.state.device.warranty_end_date)<e&&this.setState({warranty_status:2})}))})).catch((function(e){e.response&&console.log(e)}))},a.getEngineers=function(){v.a.get(w+"/api/tdengineer/").then((function(e){a.setState({engineers:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getDepartments=function(){v.a.get(w+"/api/tddepartment/").then((function(e){a.setState({departments:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getLocations=function(){v.a.get(w+"/api/tdlocations/").then((function(e){a.setState({locations:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.handleEngineerChange=function(e){a.setState({engineer_id:e.value})},a.handlLocationChange=function(e){a.setState({location_id:e.value})},a.handlDepartmentChange=function(e){a.setState({department_id:e.value})},a.state={customer_name:"",customer_phone:"",customer_email:"",ticket_date:"",customer_address:"",job_description:"",department_id:"",comments:"",device:"",engineer_id:"",location_id:"",engineers:[],departments:[],locations:[],isProcessing:!1,showResult:!1,ticket:[],warranty_status:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getWarranty(),this.getEngineers(),this.getDepartments(),this.getLocations()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({isProcessing:!0});var t=this,s={customer_name:this.state.customer_name,customer_phone:this.state.customer_phone,customer_email:this.state.customer_email,ticket_date:this.state.ticket_date,customer_address:this.state.customer_address,job_description:this.state.job_description,department_id:this.state.department_id,comments:this.state.comments,engineer_id:this.state.engineer_id,location_id:this.state.location_id,warrantyserial_id:Z,serial:this.state.device.serial,job_tag:"TD"+(new Date).getTime(),status:1,warranty_status:this.state.warranty_status};v.a.post(w+"/api/tdjobticket/",s).then((function(e){201===e.status&&""!==e.data&&t.setState({isProcessing:!1,ticket:e.data,showResult:!0})})).catch((function(e){console.log(e)}))}},{key:"renderForm",value:function(){var e=this.state.engineers.map((function(e,t){return{label:e.engineer_name,value:e._id,key:t}})),t=this.state.departments.map((function(e,t){return{label:e.department_name,value:e._id,key:t}})),s=this.state.locations.map((function(e,t){return{label:e.address,value:e._id,key:t}})),i=new Date,c="";return new Date(this.state.device.warranty_end_date)>=i?c=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"green",children:"Active"})]}):new Date(this.state.device.warranty_end_date)<i&&(c=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:G,alt:"expired warranty "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"amber",children:"Expired (Out of Warranty)"})]})),Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"uk-section-muted",children:Object(a.jsxs)("div",{className:"uk-padding",children:[c,this.state.device&&Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-small",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Name"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.device.product_id[0].item_detail+" - "+this.state.device.product_id[0].item_number})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.device.product_id[0].item_number})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.device.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsxs)("p",{children:[" ",this.state.device.product_id[0].description]})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Start Date"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:new Date(this.state.device.warranty_start_date).toDateString()})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"End Date"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:new Date(this.state.device.warranty_end_date).toDateString()})})]}),Object(a.jsx)("hr",{}),Object(a.jsxs)("form",{method:"POST",onSubmit:this.handleSubmit,"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("h4",{className:"uk-text-left uk-text-bold ",children:"Customer Information"})}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Customer Name ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"customer_name",placeholder:"Enter Customer Name",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Customer Phone Number ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"number",name:"customer_phone",placeholder:"Enter Customer Phone Number",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Customer Email ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"email",name:"customer_email",placeholder:"Enter Customer Email",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Ticket Date ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"date",name:"ticket_date",placeholder:"Enter Date",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Customer Address ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input",rows:"5",name:"customer_address",placeholder:"Enter Customer Address",onChange:this.handleInputChange,required:!0})]}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("h4",{className:"uk-text-left uk-text-bold ",children:"TDPlus Information"})}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Description ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input",rows:"8",name:"job_description",placeholder:"Enter Job Description",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Engineer Responsible ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)(z.a,{className:"calc_input uk-margin-small-top",options:e,name:"engineer_id",onChange:this.handleEngineerChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Department ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)(z.a,{className:"calc_input uk-margin-small-top",options:t,name:"department",onChange:this.handlDepartmentChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Store Location ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)(z.a,{className:"calc_input uk-margin-small-top",options:s,name:"location_id",onChange:this.handlLocationChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Additional Comments ",Object(a.jsx)("span",{className:"red",children:"(Optional)"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input",rows:"5",name:"comments",placeholder:"Enter Additional Comments",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin-top uk-width-1-2@m",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Create Job Ticket"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Creating Job Ticket..."]})]})]})]})})})}},{key:"render",value:function(){if(this.state.showResult){var e="";return 1===this.state.ticket.warranty_status?e=Object(a.jsx)("p",{className:"green",children:"Active Warranty! Device has Active Warranty when Ticket was Created"}):2===this.state.ticket.warranty_status&&(e=Object(a.jsx)("p",{className:"amber",children:"Expired Warranty! Device has Expired Warranty when Ticket was Created"})),Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:E,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Create New Job Tickets "}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Verify Online Warranty Status and Create Support Ticket "})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-section-muted",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Job Ticket Created"]}),this.state.ticket&&Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-small",children:[Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-top",children:[Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Job Tag"}),Object(a.jsx)("h1",{className:"uk-text-bold red uk-margin-remove uk-margin-bottom",children:this.state.ticket.job_tag})]}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Name"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].item_detail+" - "+this.state.ticket.warrantyserial_id[0].product_id[0].item_number})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].item_number})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsxs)("p",{children:[" ",this.state.ticket.warrantyserial_id[0].product_id[0].description]})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Warranty Status"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:e}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Start Date"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:new Date(this.state.ticket.warrantyserial_id[0].warranty_start_date).toDateString()})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"End Date"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:new Date(this.state.ticket.warrantyserial_id[0].warranty_end_date).toDateString()})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("h4",{className:"uk-text-left uk-text-bold uk-margin-large uk-margin-medium-top",children:"Customer Information"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Name"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Email"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_email})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Phone"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_phone})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Address"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_address})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("h4",{className:"uk-text-left uk-text-bold uk-margin-large uk-margin-medium-top",children:"TDPlus Information"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Job Description"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.job_description})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Ticket Date"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:new Date(this.state.ticket.ticket_date).toDateString()})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Engineer Responsible"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Engineer Email"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_email})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Engineer Phone"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_phone})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Location"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.location_id[0].address})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Department"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.department_id[0].department_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Comments"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.comments})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-large-top"}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("a",{href:"/",onClick:function(){return window.print()},className:"uk-button uk-margin-right black_btn",children:"Print Job Ticket"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("a",{href:"/tracker/"+this.state.ticket._id,className:"uk-button uk-margin-right slider_btn",children:"Track Job Ticket"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("a",{href:"/part-order/"+this.state.ticket._id,className:"uk-button uk-margin-right blue_btn",children:"Make Part Order"})})]})]})})]})})})]})}return Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:E,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Create New Job Tickets "}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Verify Online Warranty Status and Create Support Ticket "})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),this.renderForm()]})})})]})}}]),s}(c.a.Component),X=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getEngineers=function(){v.a.get(w+"/api/tdengineer/").then((function(e){a.setState({engineers:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getDepartments=function(){v.a.get(w+"/api/tddepartment/").then((function(e){a.setState({departments:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getLocations=function(){v.a.get(w+"/api/tdlocations/").then((function(e){a.setState({locations:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.handleEngineerChange=function(e){a.setState({engineer_id:e.value})},a.handlLocationChange=function(e){a.setState({location_id:e.value})},a.handlDepartmentChange=function(e){a.setState({department_id:e.value})},a.state={engineers:[],departments:[],locations:[],device_name:"",device_model:"",serial:"",warranty_status:"",device_information:"",proof_purchase:[],customer_name:"",customer_phone:"",customer_email:"",ticket_date:"",customer_address:"",job_description:"",department_id:"",comments:"",engineer_id:"",location_id:"",isProcessing:!1,showResult:!1,ticket:[]},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getEngineers(),this.getDepartments(),this.getLocations()}},{key:"handleInputChange",value:function(e){switch(e.target.name){case"proof_purchase":this.setState({proof_purchase:e.target.files[0]},(function(){}));break;default:this.setState(Object(o.a)({},e.target.name,e.target.value))}}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({isProcessing:!0});var s=new FormData;s.append("device_name",this.state.device_name),s.append("device_model",this.state.device_model),s.append("serial",this.state.serial),s.append("device_information",this.state.device_information),s.append("proof_purchase",this.state.proof_purchase),s.append("engineer_id",this.state.engineer_id),s.append("location_id",this.state.location_id),s.append("job_tag","TD"+(new Date).getTime()),s.append("customer_name",this.state.customer_name),s.append("customer_phone",this.state.customer_phone),s.append("customer_email",this.state.customer_email),s.append("ticket_date",this.state.ticket_date),s.append("customer_address",this.state.customer_address),s.append("job_description",this.state.job_description),s.append("department_id",this.state.department_id),s.append("comments",this.state.comments),s.append("status",1),s.append("warranty_status",this.state.warranty_status),v.a.post(w+"/api/tdofflinejobticket/",s).then((function(e){201===e.status&&""!==e.data&&t.setState({isProcessing:!1,ticket:e.data,showResult:!0})})).catch((function(e){e.response&&console.error("err resp",e.response)}))}},{key:"renderForm",value:function(){var e=this.state.engineers.map((function(e,t){return{label:e.engineer_name,value:e._id,key:t}})),t=this.state.departments.map((function(e,t){return{label:e.department_name,value:e._id,key:t}})),s=this.state.locations.map((function(e,t){return{label:e.address,value:e._id,key:t}}));return Object(a.jsx)("div",{className:"uk-section-muted",children:Object(a.jsx)("div",{className:"uk-padding",children:Object(a.jsxs)("form",{encType:"multipart/form-data",method:"POST",onSubmit:this.handleSubmit,"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("h4",{className:"uk-text-left uk-text-bold ",children:"Device Information"})}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Device Name ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"device_name",placeholder:"Enter Device Name",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Device Model ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"device_model",placeholder:"Enter Device Model",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Serial Number ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"serial",placeholder:"Enter Serial Number",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Device Warranty Status  ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsxs)("select",{className:"uk-input calc_input uk-margin-small-top",name:"warranty_status",onChange:this.handleInputChange,required:!0,children:[Object(a.jsx)("option",{value:"",children:"Select Warranty Status"}),Object(a.jsx)("option",{value:"1",children:"Active Warranty"}),Object(a.jsx)("option",{value:"2",children:"Expired (Out of Warranty)"})]})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Device Information ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input",rows:"8",name:"device_information",placeholder:"Enter Device Information",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Upload Proof of Purchase ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsxs)("div",{"data-uk-form-custom":"target: true",children:[Object(a.jsx)("input",{type:"file",onChange:this.handleInputChange,name:"proof_purchase"}),Object(a.jsx)("input",{className:"uk-input calc_input uk-form-width-large input",type:"text",placeholder:"Select file",disabled:!0})]})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[" ",Object(a.jsx)("hr",{})]}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("h4",{className:"uk-text-left uk-text-bold ",children:"Customer Information"})}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Customer Name ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"customer_name",placeholder:"Enter Customer Name",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Customer Phone Number ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"number",name:"customer_phone",placeholder:"Enter Customer Phone Number",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Customer Email ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"email",name:"customer_email",placeholder:"Enter Customer Email",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Ticket Date ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"date",name:"ticket_date",placeholder:"Enter Date",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Customer Address ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input",rows:"5",name:"customer_address",placeholder:"Enter Customer Address",onChange:this.handleInputChange,required:!0})]}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("h4",{className:"uk-text-left uk-text-bold ",children:"TDPlus Information"})}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Description ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input",rows:"8",name:"job_description",placeholder:"Enter Job Description",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Engineer Responsible ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)(z.a,{className:"calc_input uk-margin-small-top",options:e,name:"engineer_id",onChange:this.handleEngineerChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Department ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)(z.a,{className:"calc_input uk-margin-small-top",options:t,name:"department",onChange:this.handlDepartmentChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Store Location ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)(z.a,{className:"calc_input uk-margin-small-top",options:s,name:"location_id",onChange:this.handlLocationChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Additional Comments ",Object(a.jsx)("span",{className:"red",children:"(Optional)"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input",rows:"5",name:"comments",placeholder:"Enter Additional Comments",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin-top uk-width-1-2@m",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Create Job Ticket"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Creating Job Ticket..."]})]})]})})})}},{key:"render",value:function(){if(this.state.showResult){var e="";return 1===this.state.ticket.warranty_status?e=Object(a.jsx)("p",{className:"green",children:"Active Warranty! Device has Active Warranty when Ticket was Created"}):2===this.state.ticket.warranty_status&&(e=Object(a.jsx)("p",{className:"amber",children:"Expired Warranty! Device has Expired Warranty when Ticket was Created"})),Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:J,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Create New Job Tickets "}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Verify Online Warranty Status and Create Support Ticket "})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-section-muted",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Job Ticket Created"]}),this.state.ticket&&Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-small",children:[Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-top",children:[Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Job Tag"}),Object(a.jsx)("h1",{className:"uk-text-bold red uk-margin-remove uk-margin-bottom",children:this.state.ticket.job_tag})]}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Name"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.device_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.device_model})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsxs)("p",{children:[" ",this.state.ticket.device_information]})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Warranty Status"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:e}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Proof of Purchase"})}),Object(a.jsxs)("div",{className:"uk-width-3-4@m",children:[Object(a.jsx)("p",{children:this.state.ticket.proof_purchase})," ",Object(a.jsx)("a",{target:"blank_",href:w+"/uploads/"+this.state.ticket.proof_purchase,children:"View"})]}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("h4",{className:"uk-text-left uk-text-bold uk-margin-large uk-margin-medium-top",children:"Customer Information"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Name"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Email"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_email})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Phone"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_phone})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Address"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_address})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("h4",{className:"uk-text-left uk-text-bold uk-margin-large uk-margin-medium-top",children:"TDPlus Information"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Job Description"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.job_description})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Ticket Date"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:new Date(this.state.ticket.ticket_date).toDateString()})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Engineer Responsible"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Engineer Email"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_email})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Engineer Phone"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_phone})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Location"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.location_id[0].address})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Department"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.department_id[0].department_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold",children:"Comments"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsx)("p",{children:this.state.ticket.comments})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-large-top"}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("a",{href:"/",onClick:function(){return window.print()},className:"uk-button uk-margin-right black_btn",children:"Print Job Ticket"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("a",{href:"/tracker-offline/"+this.state.ticket._id,className:"uk-button uk-margin-right slider_btn",children:"Track Job Ticket"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("a",{href:"/part-order-offline/"+this.state.ticket._id,className:"uk-button uk-margin-right blue_btn",children:"Make Part Order"})})]})]})})]})})})]})}return Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:J,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Create Job Ticket [ No Serial ]"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Create a new Job Ticket and Upload Proof of Payment"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),this.renderForm()]})})})]})}}]),s}(c.a.Component),$=s.p+"static/media/open_dot.beba0661.svg",ee=s.p+"static/media/pending_dot.314b8952.svg",te=s.p+"static/media/onhold_dot.c3b45372.svg",se=s.p+"static/media/closed_dot.c8f4d14f.svg",ae=window.location.href.split("/").pop(),ie=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.update.stage){case 1:e=Object(a.jsx)("img",{alt:"",src:$});break;case 2:case 4:case 5:e=Object(a.jsx)("img",{alt:"",src:ee});break;case 3:e=Object(a.jsx)("img",{alt:"",src:te});break;default:e=Object(a.jsx)("img",{alt:"",src:se})}return Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:this.props.update.title}),Object(a.jsx)("p",{children:this.props.update.description})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:Object(a.jsx)("p",{children:new Date(this.props.update.create_date).toDateString()})})]})})}}]),s}(c.a.Component),ce=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getTicket=function(){v.a.get(w+"/api/tdjobticketid/"+ae).then((function(e){a.setState({ticket:e.data[0]})})).catch((function(e){e.response&&console.log(e)}))},a.getUpdates=function(){v.a.get(w+"/api/tdupdates/"+ae).then((function(e){a.setState({updates:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={ticket:[],updates:[],isProcessing:!1,title:"",description:"",stage:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getTicket(),this.getUpdates()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={offlineticket_id:ae,ticket_id:ae,title:this.state.title,description:this.state.description,stage:this.state.stage};this.setState({isProcessing:!0}),v.a.post(w+"/api/tdupdates/",s).then((function(e){201===e.status&&""!==e.data&&(t.setState({isProcessing:!1}),alert("Ticket Updated"),t.props.history.push("/tracker/"+ae))})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){var e="";1===this.state.ticket.warranty_status?e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"green",children:"Active"})]}):2===this.state.ticket.warranty_status&&(e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:G,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"amber",children:"Expired"})]}));var t="";switch(this.state.ticket.status){case 1:t=Object(a.jsx)("span",{className:"green",children:"Open"});break;case 2:t=Object(a.jsx)("span",{className:"blue",children:"Pending"});break;case 3:t=Object(a.jsx)("span",{className:"black",children:"On-Hold"});break;case 4:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Awaiting"});break;case 5:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Recieved"});break;default:t=Object(a.jsx)("span",{className:"red",children:"Closed"})}return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:U,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Update Job Ticket"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Update Job ticket for Open, Pending Jobs and On-Hold Jobs"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[this.state.ticket.warrantyserial_id&&Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("h4",{className:"uk-text-bold",children:["Job Status: ",t]})}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Name :"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m ",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].device_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].device_model})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].description})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Engineer"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_name})})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Name"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Email / Phone Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("p",{children:[this.state.ticket.customer_email," / ",this.state.ticket.customer_phone]})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Address"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_address})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Department"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.department_id[0].department_name})})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-remove",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Job Description"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.job_description})})]})]}),Object(a.jsx)("div",{})]})}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-large",children:[Object(a.jsx)("h3",{className:"uk-text-bold tag",children:Object(a.jsxs)("span",{children:["Job Tag: ",this.state.ticket.job_tag]})}),Object(a.jsx)("a",{href:"/part-order/"+this.state.ticket._id,className:"uk-button uk-margin-right blue_btn",children:"Make Part Order"})]}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("button",{className:"uk-button  blue",type:"button","data-uk-toggle":"target: #toggle-usage",children:[" ",Object(a.jsx)("span",{"uk-icon":"icon: settings; ratio: 0.8",children:" "}),"  Toggle Tracker Visibility"]})}),Object(a.jsxs)("div",{id:"toggle-usage","data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:Object(a.jsx)("img",{alt:"",src:$})}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:"Device Recieved at TDPlus Service Center"}),this.state.ticket.warrantyserial_id&&Object(a.jsxs)("p",{children:[this.state.ticket.warrantyserial_id[0].product_id[0].device_name," received at the service center"]}),this.state.ticket.warrantyserial_id&&Object(a.jsxs)("p",{children:[this.state.ticket.location_id[0].address," "]})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:this.state.ticket.warrantyserial_id&&Object(a.jsx)("p",{children:new Date(this.state.ticket.ticket_date).toDateString()})})]})}),this.state.updates.map((function(e){return Object(a.jsx)(ie,{index:e._id,update:e},e._id)}))]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),6!==this.state.ticket.status&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"uk-text-bold ",children:Object(a.jsx)("span",{children:"Update Ticket"})}),Object(a.jsxs)("form",{"data-uk-grid":!0,method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Update Title ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"title",placeholder:"Enter Update title",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-top",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Update Description ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input uk-margin-small-top",rows:"10",name:"description",placeholder:"Enter description",onChange:this.handleInputChange})]})]}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Device Support Stage  ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsxs)("select",{className:"uk-input calc_input uk-margin-small-top",name:"stage",onChange:this.handleInputChange,required:!0,children:[Object(a.jsx)("option",{value:"",children:"Select Support Stage "}),Object(a.jsx)("option",{value:"1",children:"Open"}),Object(a.jsx)("option",{value:"2",children:"Pending"}),Object(a.jsx)("option",{value:"3",children:"On-Hold"})]})]})}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Update Ticket"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Updating Job Ticket..."]})]})]})]})]})})})]})})}}]),s}(c.a.Component),ne=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.ticket.status){case 1:e=Object(a.jsx)("p",{className:"green",children:"Open"});break;case 2:e=Object(a.jsx)("p",{className:"blue",children:"Pending"});break;case 3:e=Object(a.jsx)("p",{className:"black",children:"On-Hold"});break;case 4:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Awaiting"});break;case 5:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Recieved"});break;default:e=Object(a.jsx)("p",{className:"red",children:"Closed"})}var t="";switch(this.props.ticket.warranty_status){case 1:t=Object(a.jsxs)("p",{className:"green",children:[Object(a.jsx)("img",{className:"",src:V,alt:"active warranty  ",width:"25"})," Active"]});break;default:t=Object(a.jsxs)("p",{className:"amber",children:[Object(a.jsx)("img",{className:"",src:G,alt:"active warranty  ",width:"25"})," Expired"]})}if(this.props.ticket.status)return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:this.props.ticket.warrantyserial_id[0].product_id[0].device_name}),Object(a.jsx)("td",{children:e}),Object(a.jsx)("td",{children:this.props.ticket.job_tag}),Object(a.jsx)("td",{children:this.props.ticket.serial}),Object(a.jsx)("td",{children:this.props.ticket.customer_name}),Object(a.jsx)("td",{children:new Date(this.props.ticket.ticket_date).toDateString()}),6!==this.props.ticket.status&&Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/update/"+this.props.ticket._id,className:"uk-button uk-button-small small_orange_btn",children:"Update"})}),6!==this.props.ticket.status&&Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/tracker/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"TRACK"})}),6===this.props.ticket.status&&Object(a.jsx)("td",{colSpan:"2",children:Object(a.jsx)("a",{href:"/tracker/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"View Closed Ticket"})})]})}}]),s}(c.a.Component),re=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.ticket.status){case 1:e=Object(a.jsx)("p",{className:"green",children:"Open"});break;case 2:e=Object(a.jsx)("p",{className:"blue",children:"Pending"});break;case 3:e=Object(a.jsx)("p",{className:"black",children:"On-Hold"});break;case 4:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Awaiting"});break;case 5:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Recieved"});break;default:e=Object(a.jsx)("p",{className:"red",children:"Closed"})}var t="";switch(this.props.ticket.warranty_status){case 1:t=Object(a.jsxs)("p",{className:"green",children:[Object(a.jsx)("img",{className:"",src:V,alt:"active warranty  ",width:"25"})," Active"]});break;default:t=Object(a.jsxs)("p",{className:"amber",children:[Object(a.jsx)("img",{className:"",src:G,alt:"active warranty  ",width:"25"})," Expired"]})}return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:this.props.ticket.device_name}),Object(a.jsx)("td",{children:e}),Object(a.jsx)("td",{children:this.props.ticket.job_tag}),Object(a.jsx)("td",{children:this.props.ticket.serial}),Object(a.jsx)("td",{children:this.props.ticket.customer_name}),Object(a.jsx)("td",{children:new Date(this.props.ticket.ticket_date).toDateString()}),6!==this.props.ticket.status&&Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/update-offline/"+this.props.ticket._id,className:"uk-button uk-button-small small_orange_btn",children:"Update"})}),6!==this.props.ticket.status&&Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/tracker-offline/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"TRACK"})}),6===this.props.ticket.status&&Object(a.jsx)("td",{colSpan:"2",children:Object(a.jsx)("a",{href:"/tracker-offline/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"View Closed Ticket"})})]})}}]),s}(c.a.Component),de=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getTickets=function(){v.a.get(w+"/api/tdjobticket/").then((function(e){a.setState({tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getOfflineTickets=function(){v.a.get(w+"/api/tdofflinejobticket/").then((function(e){a.setState({offline_tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={tickets:[],offline_tickets:[],job_tag:"",serial_number:"",warranty_status:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getTickets(),this.getOfflineTickets()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={job_tag:this.state.job_tag,warranty_status:this.state.warranty_status,serial:this.state.serial_number};this.setState({isProcessing:!0}),v.a.post(w+"/api/searchjobticket/",s).then((function(e){console.log(e.data),t.setState({isProcessing:!1,tickets:e.data})})).catch((function(e){e.response&&console.log(e)})),v.a.post(w+"/api/searchofflinejobticket/",s).then((function(e){console.log(e.data),t.setState({isProcessing:!1,offline_tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:U,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Search Support Tickets"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Search Support Tickets and Update Status"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsx)("h4",{className:"uk-text-bold",children:"Search"}),Object(a.jsxs)("form",{method:"POST","data-uk-grid":!0,onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-width-1-4@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Tag ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"job_tag",placeholder:"Job Tag",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-width-1-4@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Serial Number ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"serial_number",placeholder:"Serial Number",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-width-1-4@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Status ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsxs)("select",{className:"uk-input calc_input uk-margin-small-top",name:"warranty_status",onChange:this.handleInputChange,children:[Object(a.jsx)("option",{value:"",children:"Select Warranty Status"}),Object(a.jsx)("option",{value:"",children:"All"}),Object(a.jsx)("option",{value:"1",children:"Active Warranty"}),Object(a.jsx)("option",{value:"2",children:"Expired (Out of Warranty)"})]})]}),Object(a.jsxs)("div",{className:"uk-margin-top uk-width-auto",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Search"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Searching..."]})]})]})]})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("div",{className:"uk-overflow-auto uk-padding",children:[Object(a.jsxs)("p",{className:"uk-text-left uk-text-meta uk-margin-remove",children:["Showing ",this.state.tickets.length+this.state.offline_tickets.length," Job Tickets"]}),Object(a.jsxs)("table",{className:"uk-table uk-table-striped uk-overflow-auto",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"uk-text-bold red",children:"Warranty Status"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Device Name"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Job Status"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Job Tag"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Serial Number"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Customer Name"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:" Ticket Date"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"\xa0"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"\xa0"})]})}),Object(a.jsxs)("tbody",{children:[this.state.tickets.map((function(e){return Object(a.jsx)(ne,{index:e._id,ticket:e},e._id)})),this.state.offline_tickets.map((function(e){return Object(a.jsx)(re,{index:e._id,ticket:e},e._id)}))]})]})]})})]})})})]})})}}]),s}(c.a.Component),le=window.location.href.split("/").pop(),he=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.update.stage){case 1:e=Object(a.jsx)("img",{alt:"",src:$});break;case 2:case 4:case 5:e=Object(a.jsx)("img",{alt:"",src:ee});break;case 3:e=Object(a.jsx)("img",{alt:"",src:te});break;default:e=Object(a.jsx)("img",{alt:"",src:se})}return Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:this.props.update.title}),Object(a.jsx)("p",{children:this.props.update.description})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:Object(a.jsx)("p",{children:new Date(this.props.update.create_date).toDateString()})})]})})}}]),s}(c.a.Component),je=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getTicket=function(){v.a.get(w+"/api/tdjobticketid/"+le).then((function(e){a.setState({ticket:e.data[0]})})).catch((function(e){e.response&&console.log(e)}))},a.getUpdates=function(){v.a.get(w+"/api/tdupdates/"+le).then((function(e){a.setState({updates:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={ticket:[],updates:[],isProcessing:!1,title:"",description:"",stage:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getTicket(),this.getUpdates()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={ticket_id:le,title:this.state.title,description:this.state.description,stage:this.state.stage};this.setState({isProcessing:!0}),v.a.post(w+"/api/tdupdates/",s).then((function(e){201===e.status&&""!==e.data&&(t.setState({isProcessing:!1}),alert("Ticket Updated"),t.props.history.push("/tracker/"+le))})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){var e="";1===this.state.ticket.warranty_status?e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"green",children:"Active"})]}):2===this.state.ticket.warranty_status&&(e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:G,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"amber",children:"Expired"})]}));var t="";switch(this.state.ticket.status){case 1:t=Object(a.jsx)("span",{className:"green",children:"Open"});break;case 2:t=Object(a.jsx)("span",{className:"blue",children:"Pending"});break;case 3:t=Object(a.jsx)("span",{className:"black",children:"On-Hold"});break;case 4:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Awaiting"});break;case 5:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Recieved"});break;default:t=Object(a.jsx)("span",{className:"red",children:"Closed"})}return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:U,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Tack Job Ticket"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Track Job Ticket Progress"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[this.state.ticket.warrantyserial_id&&Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("h4",{className:"uk-text-bold",children:["Job Status: ",t]})}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Name :"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m ",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].device_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].device_model})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].description})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Engineer"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_name})})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Name"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Email"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_email})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Address"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_address})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Department"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.department_id[0].department_name})})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-remove",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Job Description"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.job_description})})]})]}),Object(a.jsx)("div",{})]})}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-large",children:[Object(a.jsx)("h3",{className:"uk-text-bold tag",children:Object(a.jsxs)("span",{children:["Job Tag: ",this.state.ticket.job_tag]})}),6!==this.state.ticket.status&&Object(a.jsx)("a",{href:"/update/"+this.state.ticket._id,className:"uk-button uk-margin-right orange_btn",children:"Update Job ticket"}),6!==this.state.ticket.status&&Object(a.jsx)("a",{href:"/part-order/"+this.state.ticket._id,className:"uk-button uk-margin-right blue_btn",children:"Make Part Order"})]}),Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[Object(a.jsxs)("p",{children:["Track the progress on Job ",this.state.ticket.job_tag]}),Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:Object(a.jsx)("img",{alt:"",src:$})}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:"Device Recieved at TDPlus Service Center"}),this.state.ticket.warrantyserial_id&&Object(a.jsxs)("p",{children:[this.state.ticket.warrantyserial_id[0].product_id[0].device_name," received at the service center"]}),this.state.ticket.warrantyserial_id&&Object(a.jsxs)("p",{children:[this.state.ticket.location_id[0].address," "]})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:this.state.ticket.warrantyserial_id&&Object(a.jsx)("p",{children:new Date(this.state.ticket.ticket_date).toDateString()})})]})]}),this.state.updates.map((function(e){return Object(a.jsx)(he,{index:e._id,update:e},e._id)}))]})]})})})]})})}}]),s}(c.a.Component),ue=window.location.href.split("/").pop(),me=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.update.stage){case 1:e=Object(a.jsx)("img",{alt:"",src:$});break;case 2:case 4:case 5:e=Object(a.jsx)("img",{alt:"",src:ee});break;case 3:e=Object(a.jsx)("img",{alt:"",src:te});break;default:e=Object(a.jsx)("img",{alt:"",src:se})}return Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:this.props.update.title}),Object(a.jsx)("p",{children:this.props.update.description})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:Object(a.jsx)("p",{children:new Date(this.props.update.create_date).toDateString()})})]})})}}]),s}(c.a.Component),oe=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getTicket=function(){v.a.get(w+"/api/tdofflinejobticketid/"+ue).then((function(e){a.setState({ticket:e.data[0]})})).catch((function(e){e.response&&console.log(e)}))},a.getUpdates=function(){v.a.get(w+"/api/tdupdates/"+ue).then((function(e){a.setState({updates:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={ticket:[],updates:[],isProcessing:!1,title:"",description:"",stage:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getTicket(),this.getUpdates()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={ticket_id:ue,title:this.state.title,description:this.state.description,stage:this.state.stage};this.setState({isProcessing:!0}),v.a.post(w+"/api/tdupdates/",s).then((function(e){201===e.status&&""!==e.data&&(t.setState({isProcessing:!1}),alert("Ticket Updated"),t.props.history.push("/tracker/"+ue))})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){var e="";1===this.state.ticket.warranty_status?e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"green",children:"Active"})]}):2===this.state.ticket.warranty_status&&(e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:G,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"amber",children:"Expired"})]}));var t="";switch(this.state.ticket.status){case 1:t=Object(a.jsx)("span",{className:"green",children:"Open"});break;case 2:t=Object(a.jsx)("span",{className:"blue",children:"Pending"});break;case 3:t=Object(a.jsx)("span",{className:"black",children:"On-Hold"});break;case 4:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Awaiting"});break;case 5:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Recieved"});break;default:t=Object(a.jsx)("span",{className:"red",children:"Closed"})}return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:U,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Tack Job Ticket"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Track Job Ticket Progress"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[this.state.ticket.department_id&&Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("h4",{className:"uk-text-bold",children:["Job Status: ",t]})}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Name :"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m ",children:Object(a.jsx)("p",{children:this.state.ticket.device_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.device_model})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.device_information})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Engineer"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Location"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.location_id[0].address})})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Name"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Email / Phone Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("p",{children:[this.state.ticket.customer_email," / ",this.state.ticket.customer_phone]})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Address"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_address})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Department"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.department_id[0].department_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Proof of Purchase"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsxs)("p",{children:[this.state.ticket.proof_purchase," ",Object(a.jsx)("a",{target:"blank_",href:w+"/uploads/"+this.state.ticket.proof_purchase,children:"View"})]})})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-remove",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Job Description"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.job_description})})]})]}),Object(a.jsx)("div",{})]})}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-large",children:[Object(a.jsx)("h3",{className:"uk-text-bold tag",children:Object(a.jsxs)("span",{children:["Job Tag: ",this.state.ticket.job_tag]})}),6!==this.state.ticket.status&&Object(a.jsx)("a",{href:"/update-offline/"+this.state.ticket._id,className:"uk-button uk-margin-right orange_btn",children:"Update Job ticket"}),6!==this.state.ticket.status&&Object(a.jsx)("a",{href:"/part-order-offline/"+this.state.ticket._id,className:"uk-button uk-margin-right blue_btn",children:"Make Part Order"})]}),Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[Object(a.jsxs)("p",{children:["Track the progress on Job ",this.state.ticket.job_tag]}),Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:Object(a.jsx)("img",{alt:"",src:$})}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:"Device Recieved at TDPlus Service Center"}),this.state.ticket.location_id&&Object(a.jsxs)("p",{children:[this.state.ticket.device_name," received at the service center"]}),this.state.ticket.location_id&&Object(a.jsxs)("p",{children:[this.state.ticket.location_id[0].address," "]})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:this.state.ticket.location_id&&Object(a.jsx)("p",{children:new Date(this.state.ticket.ticket_date).toDateString()})})]})]}),this.state.updates.map((function(e){return Object(a.jsx)(me,{index:e._id,update:e},e._id)}))]})]})})})]})})}}]),s}(c.a.Component),be=window.location.href.split("/").pop(),ke=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.update.stage){case 1:e=Object(a.jsx)("img",{alt:"",src:$});break;case 2:case 4:case 5:e=Object(a.jsx)("img",{alt:"",src:ee});break;case 3:e=Object(a.jsx)("img",{alt:"",src:te});break;default:e=Object(a.jsx)("img",{alt:"",src:se})}return Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:this.props.update.title}),Object(a.jsx)("p",{children:this.props.update.description})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:Object(a.jsx)("p",{children:new Date(this.props.update.create_date).toDateString()})})]})})}}]),s}(c.a.Component),xe=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getTicket=function(){v.a.get(w+"/api/tdjobticketid/"+be).then((function(e){a.setState({ticket:e.data[0]})})).catch((function(e){e.response&&console.log(e)}))},a.getUpdates=function(){v.a.get(w+"/api/tdupdates/"+be).then((function(e){a.setState({updates:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={ticket:[],updates:[],isProcessing:!1,title:"",description:"",stage:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getTicket(),this.getUpdates()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={offlineticket_id:be,ticket_id:be,description:this.state.description,stage:this.state.stage};this.setState({isProcessing:!0}),v.a.post(w+"/api/tdupdates/",s).then((function(e){201===e.status&&""!==e.data&&(t.setState({isProcessing:!1}),alert("Ticket Updated"),t.props.history.push("/tracker/"+be))})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){var e="";1===this.state.ticket.warranty_status?e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"green",children:"Active"})]}):2===this.state.ticket.warranty_status&&(e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:G,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"amber",children:"Expired"})]}));var t="";switch(this.state.ticket.status){case 1:t=Object(a.jsx)("span",{className:"green",children:"Open"});break;case 2:t=Object(a.jsx)("span",{className:"blue",children:"Pending"});break;case 3:t=Object(a.jsx)("span",{className:"black",children:"On-Hold"});break;case 4:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Awaiting"});break;case 5:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Recieved"});break;default:t=Object(a.jsx)("span",{className:"red",children:"Closed"})}return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:U,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Make Part Order"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Request for Part Order from Zinox for a Device"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[this.state.ticket.warrantyserial_id&&Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("h4",{className:"uk-text-bold",children:["Job Status: ",t]})}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Name :"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m ",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].device_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].device_model})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].description})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Engineer"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_name})})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Name"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Email / Phone Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("p",{children:[this.state.ticket.customer_email," / ",this.state.ticket.customer_phone]})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_address})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Department"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.department_id[0].department_name})})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-remove",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Job Description"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.job_description})})]})]}),Object(a.jsx)("div",{})]})}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-large",children:Object(a.jsx)("h3",{className:"uk-text-bold tag",children:Object(a.jsxs)("span",{children:["Job Tag: ",this.state.ticket.job_tag]})})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("button",{className:"uk-button  blue",type:"button","data-uk-toggle":"target: #toggle-usage",children:[" ",Object(a.jsx)("span",{"uk-icon":"icon: settings; ratio: 0.8",children:" "}),"  Toggle Tracker Visibility"]})}),Object(a.jsxs)("div",{id:"toggle-usage","data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:Object(a.jsx)("img",{alt:"",src:$})}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:"Device Recieved at TDPlus Service Center"}),this.state.ticket.warrantyserial_id&&Object(a.jsxs)("p",{children:[this.state.ticket.warrantyserial_id[0].product_id[0].device_name," received at the service center"]}),this.state.ticket.warrantyserial_id&&Object(a.jsxs)("p",{children:[this.state.ticket.location_id[0].address," "]})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:this.state.ticket.warrantyserial_id&&Object(a.jsx)("p",{children:new Date(this.state.ticket.ticket_date).toDateString()})})]})}),this.state.updates.map((function(e){return Object(a.jsx)(ke,{index:e._id,update:e},e._id)}))]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),6!==this.state.ticket.status&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"uk-text-bold ",children:Object(a.jsx)("span",{children:"Request for Spare Parts"})}),Object(a.jsxs)("form",{"data-uk-grid":!0,method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-top",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Part Request Description ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input uk-margin-small-top",rows:"10",name:"description",placeholder:"Enter description",onChange:this.handleInputChange})]})}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Device Support Stage  ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsxs)("select",{className:"uk-input calc_input uk-margin-small-top",name:"stage",onChange:this.handleInputChange,required:!0,children:[Object(a.jsx)("option",{value:"",children:"Select Support Stage "}),Object(a.jsx)("option",{value:"4",children:"Part Awaiting"}),Object(a.jsx)("option",{value:"5",children:"Part Recieved"})]})]})}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Update Ticket"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Updating Job Ticket..."]})]})]})]})]})})})]})})}}]),s}(c.a.Component),pe=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.ticket.status){case 1:e=Object(a.jsx)("p",{className:"green",children:"Open"});break;case 2:e=Object(a.jsx)("p",{className:"blue",children:"Pending"});break;case 3:e=Object(a.jsx)("p",{className:"black",children:"On-Hold"});break;case 4:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Awaiting"});break;case 5:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Recieved"});break;default:e=Object(a.jsx)("p",{className:"red",children:"Closed"})}var t="";switch(this.props.ticket.warranty_status){case 1:t=Object(a.jsxs)("p",{className:"green",children:[Object(a.jsx)("img",{className:"",src:V,alt:"active warranty  ",width:"25"})," Active"]});break;default:t=Object(a.jsxs)("p",{className:"amber",children:[Object(a.jsx)("img",{className:"",src:G,alt:"active warranty  ",width:"25"})," Expired"]})}return 6!==this.props.ticket.status?Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:this.props.ticket.warrantyserial_id[0].product_id[0].device_name}),Object(a.jsx)("td",{children:e}),Object(a.jsx)("td",{children:this.props.ticket.job_tag}),Object(a.jsx)("td",{children:this.props.ticket.serial}),Object(a.jsx)("td",{children:this.props.ticket.customer_name}),Object(a.jsx)("td",{children:new Date(this.props.ticket.ticket_date).toDateString()}),Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/close-ticket/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"Close Ticket"})})]}):6===this.props.ticket.status?Object(a.jsx)("tr",{}):void 0}}]),s}(c.a.Component),Oe=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){console.log(this.props.ticket);var e="";switch(this.props.ticket.status){case 1:e=Object(a.jsx)("p",{className:"green",children:"Open"});break;case 2:e=Object(a.jsx)("p",{className:"blue",children:"Pending"});break;case 3:e=Object(a.jsx)("p",{className:"black",children:"On-Hold"});break;case 4:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Awaiting"});break;case 5:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Recieved"});break;default:e=Object(a.jsx)("p",{className:"red",children:"Closed"})}var t="";switch(this.props.ticket.warranty_status){case 1:t=Object(a.jsxs)("p",{className:"green",children:[Object(a.jsx)("img",{className:"",src:V,alt:"active warranty  ",width:"25"})," Active"]});break;default:t=Object(a.jsxs)("p",{className:"amber",children:[Object(a.jsx)("img",{className:"",src:G,alt:"active warranty  ",width:"25"})," Expired"]})}return 6!==this.props.ticket.status?Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:this.props.ticket.device_name}),Object(a.jsx)("td",{children:e}),Object(a.jsx)("td",{children:this.props.ticket.job_tag}),Object(a.jsx)("td",{children:this.props.ticket.serial}),Object(a.jsx)("td",{children:this.props.ticket.customer_name}),Object(a.jsx)("td",{children:new Date(this.props.ticket.ticket_date).toDateString()}),Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/close-ticket-offline/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"Close Ticket"})})]}):6===this.props.ticket.status?Object(a.jsx)("tr",{}):void 0}}]),s}(c.a.Component),ge=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getTickets=function(){v.a.get(w+"/api/tdjobticket/").then((function(e){a.setState({tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getOfflineTickets=function(){v.a.get(w+"/api/tdofflinejobticket/").then((function(e){a.setState({offline_tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={tickets:[],offline_tickets:[],job_tag:"",serial_number:"",warranty_status:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getTickets(),this.getOfflineTickets()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={job_tag:this.state.job_tag,warranty_status:this.state.warranty_status,serial:this.state.serial_number};this.setState({isProcessing:!0}),v.a.post(w+"/api/searchjobticket/",s).then((function(e){console.log(e.data),t.setState({isProcessing:!1,tickets:e.data})})).catch((function(e){e.response&&console.log(e)})),v.a.post(w+"/api/searchofflinejobticket/",s).then((function(e){console.log(e.data),t.setState({isProcessing:!1,offline_tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:R,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Close Job Ticket"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Close a Job Ticket once Device Support is Completed"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsx)("h4",{className:"uk-text-bold",children:"Search"}),Object(a.jsxs)("form",{method:"POST","data-uk-grid":!0,onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-width-1-4@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Tag ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"job_tag",placeholder:"Job Tag",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-width-1-4@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Serial Number ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"serial_number",placeholder:"Serial Number",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-width-1-4@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Status ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsxs)("select",{className:"uk-input calc_input uk-margin-small-top",name:"warranty_status",onChange:this.handleInputChange,children:[Object(a.jsx)("option",{value:"",children:"Select Warranty Status"}),Object(a.jsx)("option",{value:"",children:"All"}),Object(a.jsx)("option",{value:"1",children:"Active Warranty"}),Object(a.jsx)("option",{value:"2",children:"Expired (Out of Warranty)"})]})]}),Object(a.jsxs)("div",{className:"uk-margin-top uk-width-auto",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Search"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Searching..."]})]})]})]})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("div",{className:"uk-overflow-auto uk-padding",children:[Object(a.jsxs)("p",{className:"uk-text-left uk-text-meta uk-margin-remove",children:["Showing ",this.state.tickets.length+this.state.offline_tickets.length," Job Tickets"]}),Object(a.jsxs)("table",{className:"uk-table uk-table-striped uk-overflow-auto",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"uk-text-bold red",children:"Warranty Status"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Device Name"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Job Status"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Job Tag"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Serial Number"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Customer Name"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:" Ticket Date"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"\xa0"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"\xa0"})]})}),Object(a.jsxs)("tbody",{children:[this.state.tickets.map((function(e){return Object(a.jsx)(pe,{index:e._id,ticket:e},e._id)})),this.state.offline_tickets.map((function(e){return Object(a.jsx)(Oe,{index:e._id,ticket:e},e._id)}))]})]})]})})]})})})]})})}}]),s}(c.a.Component),ve=window.location.href.split("/").pop(),Ne=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.update.stage){case 1:e=Object(a.jsx)("img",{alt:"",src:$});break;case 2:case 4:case 5:e=Object(a.jsx)("img",{alt:"",src:ee});break;case 3:e=Object(a.jsx)("img",{alt:"",src:te});break;default:e=Object(a.jsx)("img",{alt:"",src:se})}return Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:this.props.update.title}),Object(a.jsx)("p",{children:this.props.update.description})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:Object(a.jsx)("p",{children:new Date(this.props.update.create_date).toDateString()})})]})})}}]),s}(c.a.Component),we=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getTicket=function(){v.a.get(w+"/api/tdjobticketid/"+ve).then((function(e){a.setState({ticket:e.data[0]})})).catch((function(e){e.response&&console.log(e)}))},a.getUpdates=function(){v.a.get(w+"/api/tdupdates/"+ve).then((function(e){a.setState({updates:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={ticket:[],updates:[],isProcessing:!1,title:"Ticket Closed",description:"",stage:6},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getTicket(),this.getUpdates()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={offlineticket_id:ve,ticket_id:ve,title:this.state.title,description:this.state.description,stage:this.state.stage};this.setState({isProcessing:!0}),v.a.post(w+"/api/closeticket/",s).then((function(e){201===e.status&&""!==e.data&&(t.setState({isProcessing:!1}),alert("Ticket Closed! "),t.props.history.push("/tracker/"+ve))})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){var e="";1===this.state.ticket.warranty_status?e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"green",children:"Active"})]}):2===this.state.ticket.warranty_status&&(e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:G,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"amber",children:"Expired"})]}));var t="";switch(this.state.ticket.status){case 1:t=Object(a.jsx)("span",{className:"green",children:"Open"});break;case 2:t=Object(a.jsx)("span",{className:"blue",children:"Pending"});break;case 3:t=Object(a.jsx)("span",{className:"black",children:"On-Hold"});break;case 4:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Awaiting"});break;case 5:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Recieved"});break;default:t=Object(a.jsx)("span",{className:"red",children:"Closed"})}return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:R,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Close Job Ticket"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Close a Job Ticket once Device Support is Completed"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[this.state.ticket.warrantyserial_id&&Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("h4",{className:"uk-text-bold",children:["Job Status: ",t]})}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Name :"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m ",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].device_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].device_model})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.warrantyserial_id[0].product_id[0].description})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Engineer"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_name})})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Name"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Email"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_email})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Address"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_address})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Department"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.department_id[0].department_name})})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-remove",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Job Description"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.job_description})})]})]}),Object(a.jsx)("div",{})]})}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-large",children:Object(a.jsx)("h3",{className:"uk-text-bold tag",children:Object(a.jsxs)("span",{children:["Job Tag: ",this.state.ticket.job_tag]})})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("button",{className:"uk-button  blue",type:"button","data-uk-toggle":"target: #toggle-usage",children:[" ",Object(a.jsx)("span",{"uk-icon":"icon: settings; ratio: 0.8",children:" "}),"  Toggle Tracker Visibility"]})}),Object(a.jsxs)("div",{id:"toggle-usage","data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:Object(a.jsx)("img",{alt:"",src:$})}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:"Device Recieved at TDPlus Service Center"}),this.state.ticket.warrantyserial_id&&Object(a.jsxs)("p",{children:[this.state.ticket.warrantyserial_id[0].product_id[0].device_name," received at the service center"]}),this.state.ticket.warrantyserial_id&&Object(a.jsxs)("p",{children:[this.state.ticket.location_id[0].address," "]})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:this.state.ticket.warrantyserial_id&&Object(a.jsx)("p",{children:new Date(this.state.ticket.ticket_date).toDateString()})})]})}),this.state.updates.map((function(e){return Object(a.jsx)(Ne,{index:e._id,update:e},e._id)}))]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),6!==this.state.ticket.status&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"uk-text-bold ",children:"Complete Job & Close Ticket"}),Object(a.jsxs)("form",{"data-uk-grid":!0,method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-top",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Closure Comments and Notes ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input uk-margin-small-top",rows:"10",name:"description",placeholder:"Enter description",onChange:this.handleInputChange})]})}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Close Ticket"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Updating Job Ticket..."]})]})]})]})]})})})]})})}}]),s}(c.a.Component),fe=window.location.href.split("/").pop(),_e=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.update.stage){case 1:e=Object(a.jsx)("img",{alt:"",src:$});break;case 2:case 4:case 5:e=Object(a.jsx)("img",{alt:"",src:ee});break;case 3:e=Object(a.jsx)("img",{alt:"",src:te});break;default:e=Object(a.jsx)("img",{alt:"",src:se})}return Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:this.props.update.title}),Object(a.jsx)("p",{children:this.props.update.description})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:Object(a.jsx)("p",{children:new Date(this.props.update.create_date).toDateString()})})]})})}}]),s}(c.a.Component),ye=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getTicket=function(){v.a.get(w+"/api/tdofflinejobticketid/"+fe).then((function(e){a.setState({ticket:e.data[0]})})).catch((function(e){e.response&&console.log(e)}))},a.getUpdates=function(){v.a.get(w+"/api/tdupdates/"+fe).then((function(e){a.setState({updates:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={ticket:[],updates:[],isProcessing:!1,title:"Ticket Closed",description:"",stage:6},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getTicket(),this.getUpdates()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={offlineticket_id:fe,ticket_id:fe,title:this.state.title,description:this.state.description,stage:this.state.stage};this.setState({isProcessing:!0}),v.a.post(w+"/api/closeticketoffline/",s).then((function(e){201===e.status&&""!==e.data&&(t.setState({isProcessing:!1}),alert("Ticket Closed! "),t.props.history.push("/tracker-offline/"+fe))})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){var e="";1===this.state.ticket.warranty_status?e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"green",children:"Active"})]}):2===this.state.ticket.warranty_status&&(e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:G,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"amber",children:"Expired"})]}));var t="";switch(this.state.ticket.status){case 1:t=Object(a.jsx)("span",{className:"green",children:"Open"});break;case 2:t=Object(a.jsx)("span",{className:"blue",children:"Pending"});break;case 3:t=Object(a.jsx)("span",{className:"black",children:"On-Hold"});break;case 4:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Awaiting"});break;case 5:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Recieved"});break;default:t=Object(a.jsx)("span",{className:"red",children:"Closed"})}return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:R,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Close Job Ticket"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Close a Job Ticket once Device Support is Completed"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[this.state.ticket.department_id&&Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("h4",{className:"uk-text-bold",children:["Job Status: ",t]})}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Name :"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m ",children:Object(a.jsx)("p",{children:this.state.ticket.device_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.device_model})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.device_information})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Engineer"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Location"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.location_id[0].address})})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Name"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Email / Phone Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("p",{children:[this.state.ticket.customer_email," / ",this.state.ticket.customer_phone]})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Address"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_address})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Department"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.department_id[0].department_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Proof of Purchase"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsxs)("p",{children:[this.state.ticket.proof_purchase," ",Object(a.jsx)("a",{target:"blank_",href:w+"/uploads/"+this.state.ticket.proof_purchase,children:"View"})]})})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-remove",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Job Description"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.job_description})})]})]}),Object(a.jsx)("div",{})]})}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-large",children:Object(a.jsx)("h3",{className:"uk-text-bold tag",children:Object(a.jsxs)("span",{children:["Job Tag: ",this.state.ticket.job_tag]})})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("button",{className:"uk-button  blue",type:"button","data-uk-toggle":"target: #toggle-usage",children:[" ",Object(a.jsx)("span",{"uk-icon":"icon: settings; ratio: 0.8",children:" "}),"  Toggle Tracker Visibility"]})}),Object(a.jsxs)("div",{id:"toggle-usage","data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:Object(a.jsx)("img",{alt:"",src:$})}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:"Device Recieved at TDPlus Service Center"}),this.state.ticket.location_id&&Object(a.jsxs)("p",{children:[this.state.ticket.device_name," received at the service center"]}),this.state.ticket.location_id&&Object(a.jsxs)("p",{children:[this.state.ticket.location_id[0].address," "]})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:this.state.ticket.location_id&&Object(a.jsx)("p",{children:new Date(this.state.ticket.ticket_date).toDateString()})})]})}),this.state.updates.map((function(e){return Object(a.jsx)(_e,{index:e._id,update:e},e._id)}))]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),6!==this.state.ticket.status&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"uk-text-bold ",children:"Complete Job & Close Ticket"}),Object(a.jsxs)("form",{"data-uk-grid":!0,method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-top",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Closure Comments and Notes ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input uk-margin-small-top",rows:"10",name:"description",placeholder:"Enter description",onChange:this.handleInputChange})]})}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Close Ticket"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Updating Job Ticket..."]})]})]})]})]})})})]})})}}]),s}(c.a.Component);var Se=function(){return Object(a.jsxs)("div",{className:"uk-padding uk-text-center",children:[Object(a.jsx)("h1",{children:"Page not found"}),Object(a.jsx)("p",{children:"We are sorry this page does not exist"}),Object(a.jsx)("a",{href:"/",children:"Back to Home"})]})},Ce=new N.a,De=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e;return console.log(this.props.user),e=0===this.props.user.status?Object(a.jsx)("td",{className:"black",children:"Not Activated"}):1===this.props.user.status?Object(a.jsx)("td",{className:"green",children:"Active"}):Object(a.jsx)("td",{className:"red",children:"Inactive"}),Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:this.props.user.name}),Object(a.jsx)("td",{children:this.props.user.email}),1===this.props.user.user_type?Object(a.jsx)("td",{children:"Super Administrator"}):Object(a.jsx)("td",{children:"Admin User"}),e,Object(a.jsx)("td",{children:new Date(this.props.user.create_date).toDateString()}),Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/edit-user/"+this.props.user._id,className:"uk-button uk-button-small small_slider_btn",children:"Manage"})})]})}}]),s}(c.a.Component),Te=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).checkcookie=function(){""!==Ce.get("current_session")&&void 0!==Ce.get("current_session")||a.props.history.push("/"),"2"===Ce.get("user_type")&&a.props.history.push("/dashboard")},a.getUsers=function(){v.a.get(w+"/api/tdgetuser/").then((function(e){a.setState({users:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={name:"",email:"",password:"",status:0,user_type:"",phone:"",users:[],user:[]},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.checkcookie(),this.getUsers()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({isProcessing:!0});var t=this,s={name:this.state.name,email:this.state.email,password:this.state.password,phone:this.state.phone,status:this.state.status,user_type:this.state.user_type};v.a.post(w+"/api/tdcreateuser/",s).then((function(e){201===e.status&&""!==e.data&&t.setState({isProcessing:!1,showResult:!0},(function(){alert("New TDPlus Admin User Created!"),window.location="/manage-user"}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:M,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h3",{className:"uk-text-left uk-margin-remove",children:"Manage Users"}),Object(a.jsx)("p",{className:"uk-text-small uk-width-medium uk-margin-remove",children:"Manage TDplus Administrator Users"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsxs)("div",{className:"uk-text-left","data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-2-5@m",children:Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("form",{method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Name ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"name",placeholder:"Admin Name",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Email ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"email",placeholder:"Email Address",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Phone ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"tel",name:"phone",placeholder:"Phone Number",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Temporary Password  ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"password",name:"password",placeholder:"**********",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["User Type ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsxs)("select",{className:"uk-select calc_input uk-margin-small-top",name:"user_type",onChange:this.handleInputChange,children:[Object(a.jsx)("option",{value:"",defaultValue:!0,children:"Select a Type"}),Object(a.jsx)("option",{value:"1",children:"Super Administrator"}),Object(a.jsx)("option",{value:"2",children:"Admin User"})]})]}),Object(a.jsxs)("div",{className:"uk-margin-large-top",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right uk-width-2-3@m slider_btn",children:"Add User"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Adding New Admin User"]})]})]})})}),Object(a.jsx)("div",{className:"uk-width-3-5@m",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-body",children:Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("div",{className:"uk-overflow-auto",children:[Object(a.jsx)("h3",{className:"uk-text-left uk-margin",children:"User Details"}),Object(a.jsxs)("p",{className:"uk-text-left uk-text-meta uk-margin-remove",children:["Showing ",this.state.users.length," TDPlus Admin Users"]}),Object(a.jsxs)("table",{className:"uk-table uk-table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"uk-text-bold red",children:"Name"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Email"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Admin Type"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Status"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Date Created"})]})}),Object(a.jsx)("tbody",{children:this.state.users.map((function(e){return Object(a.jsx)(De,{index:e._id,user:e},e._id)}))})]})]})})})})]})]})})})]})}}]),s}(c.a.Component),Pe=window.location.href.split("/").pop(),Ie=new N.a,Ae=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).state={name:"",email:"",user_type:"",phone:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidUpdate",value:function(e){e.users!==this.props.users&&this.setState({name:this.props.users.name,email:this.props.users.email,user_type:this.props.users.user_type,phone:this.props.users.phone})}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({isProcessing:!0});var t=this,s={name:this.state.name,email:this.state.email,user_type:this.state.user_type};v.a.put(w+"/api/tdupdateuser/"+Pe,s).then((function(e){200===e.status&&""!==e.data&&t.setState({isProcessing:!1},(function(){alert("TDPlus Admin User Updated"),window.location="/manage-user"}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(a.jsxs)("form",{method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Name ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",value:this.state.name,type:"text",name:"name",placeholder:"Admin Name",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Email ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",value:this.state.email,type:"text",name:"email",placeholder:"Email Address",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Phone ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",value:this.state.phone,type:"text",name:"phone",placeholder:"Email Address",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["User Type ",Object(a.jsxs)("span",{className:"red",children:["* | Current Role:",1===this.state.user_type?Object(a.jsx)("span",{children:"Super Administrator"}):Object(a.jsx)("span",{children:"Admin User"})," "]})]}),Object(a.jsxs)("select",{className:"uk-select calc_input uk-margin-small-top",name:"user_type",onChange:this.handleInputChange,children:[Object(a.jsx)("option",{value:"",defaultValue:!0,children:"Select a Type"}),Object(a.jsx)("option",{value:"1",children:"Super Administrator"}),Object(a.jsx)("option",{value:"2",children:"Admin User"})]})]}),Object(a.jsxs)("div",{className:"uk-margin-large-top",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right uk-width-2-3@m slider_btn",children:"Update User"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Update New Admin User"]})]})]})}}]),s}(c.a.Component),Ee=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).checkcookie=function(){""!==Ie.get("current_session")&&void 0!==Ie.get("current_session")||a.props.history.push("/"),"2"===Ie.get("user_type")&&a.props.history.push("/dashboard")},a.getUsers=function(){v.a.get(w+"/api/tdgetuser/"+Pe).then((function(e){a.setState({users:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={users:[],user:[]},a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.checkcookie(),this.getUsers()}},{key:"render",value:function(){return Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"",children:[Object(a.jsx)("div",{className:"uk-width-auto ",children:Object(a.jsx)("img",{src:M,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-expand uk-margin-small-top",children:[Object(a.jsx)("h3",{className:"uk-text-left uk-margin-remove",children:"Manage Users"}),Object(a.jsx)("p",{className:"uk-text-small uk-width-medium uk-margin-remove",children:"Manage TDPlus Administrator Users"})]})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"uk-text-left","data-uk-grid":!0,children:Object(a.jsx)("div",{className:"uk-width-2-5@m",children:Object(a.jsxs)("div",{className:"uk-background-muted uk-padding",children:[Object(a.jsxs)("h4",{className:"uk-text-left uk-margin",children:["Currently Editing User: ",Object(a.jsx)("span",{className:"red",children:this.state.users.name})]}),Object(a.jsx)(Ae,{users:this.state.users})]})})})]})})})]})}}]),s}(i.Component),Je=new N.a,Ue=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:this.props.engr.engineer_name}),Object(a.jsx)("td",{children:this.props.engr.engineer_phone}),Object(a.jsx)("td",{children:this.props.engr.engineer_email}),Object(a.jsx)("td",{children:new Date(this.props.engr.create_date).toDateString()}),Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/edit-engineer/"+this.props.engr._id,className:"uk-button uk-button-small small_slider_btn",children:"Manage"})})]})}}]),s}(c.a.Component),We=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).checkcookie=function(){""!==Je.get("current_session")&&void 0!==Je.get("current_session")||a.props.history.push("/"),"2"===Je.get("user_type")&&a.props.history.push("/dashboard")},a.getEengineers=function(){v.a.get(w+"/api/tdengineer/").then((function(e){a.setState({engineers:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={engineer_name:"",engineer_email:"",engineer_phone:"",engineers:[]},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.checkcookie(),this.getEengineers()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({isProcessing:!0});var t=this,s={engineer_name:this.state.engineer_name,engineer_email:this.state.engineer_email,engineer_phone:this.state.engineer_phone,status:1};v.a.post(w+"/api/tdengineer/",s).then((function(e){201===e.status&&""!==e.data&&t.setState({isProcessing:!1,showResult:!0},(function(){alert("New TDPlus Engineer User Created!"),window.location="/manage-engineer"}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:q,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h3",{className:"uk-text-left uk-margin-remove",children:"Manage Engineers"}),Object(a.jsx)("p",{className:"uk-text-small uk-width-medium uk-margin-remove",children:"Manage TDplus Engineers"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsxs)("div",{className:"uk-text-left","data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-2-5@m",children:Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("form",{method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Name ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"engineer_name",placeholder:"Admin Name",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Email ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"engineer_email",placeholder:"Email Address",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Phone ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"tel",name:"engineer_phone",placeholder:"Phone Number",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin-large-top",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right uk-width-2-3@m slider_btn",children:"Add Engineer"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Adding New Engineer ..."]})]})]})})}),Object(a.jsx)("div",{className:"uk-width-3-5@m",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-body",children:Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("div",{className:"uk-overflow-auto",children:[Object(a.jsx)("h3",{className:"uk-text-left uk-margin",children:"User Details"}),Object(a.jsxs)("p",{className:"uk-text-left uk-text-meta uk-margin-remove",children:["Showing ",this.state.engineers.length," Engineers"]}),Object(a.jsxs)("table",{className:"uk-table uk-table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"uk-text-bold red",children:"Name"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Phone"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Email"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Date Created"})]})}),Object(a.jsx)("tbody",{children:this.state.engineers.map((function(e){return Object(a.jsx)(Ue,{index:e._id,engr:e},e._id)}))})]})]})})})})]})]})})})]})}}]),s}(c.a.Component),Re=window.location.href.split("/").pop(),Me=new N.a,qe=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).state={engineer_name:"",engineer_phone:"",engineer_email:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidUpdate",value:function(e){e.engr!==this.props.engr&&this.setState({engineer_name:this.props.engr.engineer_name,engineer_phone:this.props.engr.engineer_phone,engineer_email:this.props.engr.engineer_email})}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({isProcessing:!0});var t=this,s={engineer_name:this.state.engineer_name,engineer_phone:this.state.engineer_phone,engineer_email:this.state.engineer_email};v.a.put(w+"/api/tdengineer/"+Re,s).then((function(e){200===e.status&&""!==e.data&&t.setState({isProcessing:!1},(function(){alert("TDPlus Engineer Updated"),window.location="/manage-engineer"}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(a.jsxs)("form",{method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Name ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",value:this.state.engineer_name,type:"text",name:"engineer_name",placeholder:"Admin Name",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Email ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",value:this.state.engineer_email,type:"text",name:"engineer_email",placeholder:"Email Address",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Phone ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",value:this.state.engineer_phone,type:"text",name:"engineer_phone",placeholder:"Email Address",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin-large-top",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right uk-width-2-3@m slider_btn",children:"Update User"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Update New Admin User"]})]})]})}}]),s}(c.a.Component),He=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).checkcookie=function(){""!==Me.get("current_session")&&void 0!==Me.get("current_session")||a.props.history.push("/"),"2"===Me.get("user_type")&&a.props.history.push("/dashboard")},a.getEngineer=function(){v.a.get(w+"/api/tdengineer/"+Re).then((function(e){a.setState({engr:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={engr:[]},a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.checkcookie(),this.getEngineer()}},{key:"render",value:function(){return Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"",children:[Object(a.jsx)("div",{className:"uk-width-auto ",children:Object(a.jsx)("img",{src:M,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-expand uk-margin-small-top",children:[Object(a.jsx)("h3",{className:"uk-text-left uk-margin-remove",children:"Manage Users"}),Object(a.jsx)("p",{className:"uk-text-small uk-width-medium uk-margin-remove",children:"Manage TDPlus Administrator Users"})]})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"uk-text-left","data-uk-grid":!0,children:Object(a.jsx)("div",{className:"uk-width-2-5@m",children:Object(a.jsxs)("div",{className:"uk-background-muted uk-padding",children:[Object(a.jsxs)("h4",{className:"uk-text-left uk-margin",children:["Currently Editing Engineer: ",Object(a.jsx)("span",{className:"red",children:this.state.engr.engineer_name})]}),Object(a.jsx)(qe,{engr:this.state.engr})]})})})]})})})]})}}]),s}(i.Component),Fe=new N.a,Le=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:this.props.dept.department_name}),Object(a.jsx)("td",{children:new Date(this.props.dept.create_date).toDateString()}),Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/edit-department/"+this.props.dept._id,className:"uk-button uk-button-small small_slider_btn",children:"Manage"})})]})}}]),s}(c.a.Component),Ve=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).checkcookie=function(){""!==Fe.get("current_session")&&void 0!==Fe.get("current_session")||a.props.history.push("/"),"2"===Fe.get("user_type")&&a.props.history.push("/dashboard")},a.getDepts=function(){v.a.get(w+"/api/tddepartment/").then((function(e){a.setState({departments:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={department_name:"",departments:[]},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.checkcookie(),this.getDepts()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({isProcessing:!0});var t=this,s={department_name:this.state.department_name};v.a.post(w+"/api/tddepartment/",s).then((function(e){201===e.status&&""!==e.data&&t.setState({isProcessing:!1,showResult:!0},(function(){alert("New TDPlus Department Created!"),window.location="/manage-department"}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:H,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h3",{className:"uk-text-left uk-margin-remove",children:"Manage Departments"}),Object(a.jsx)("p",{className:"uk-text-small uk-width-medium uk-margin-remove",children:"Manage TDplus Departments"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsxs)("div",{className:"uk-text-left","data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-2-5@m",children:Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("form",{method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Department Name ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"department_name",placeholder:"Department Name",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin-large-top",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right uk-width-2-3@m slider_btn",children:"Add Department"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Adding New Department ..."]})]})]})})}),Object(a.jsx)("div",{className:"uk-width-3-5@m",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-body",children:Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("div",{className:"uk-overflow-auto",children:[Object(a.jsx)("h3",{className:"uk-text-left uk-margin",children:"User Details"}),Object(a.jsxs)("p",{className:"uk-text-left uk-text-meta uk-margin-remove",children:["Showing ",this.state.departments.length," Departments"]}),Object(a.jsxs)("table",{className:"uk-table uk-table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"uk-text-bold red",children:"Department Name"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Date Created"})]})}),Object(a.jsx)("tbody",{children:this.state.departments.map((function(e){return Object(a.jsx)(Le,{index:e._id,dept:e},e._id)}))})]})]})})})})]})]})})})]})}}]),s}(c.a.Component),Ge=window.location.href.split("/").pop(),Be=new N.a,Ke=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).state={department_name:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidUpdate",value:function(e){e.dept!==this.props.dept&&this.setState({department_name:this.props.dept.department_name,status:this.props.dept.status})}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({isProcessing:!0});var t=this,s={department_name:this.state.department_name,status:this.state.status};v.a.put(w+"/api/tddepartment/"+Ge,s).then((function(e){200===e.status&&""!==e.data&&t.setState({isProcessing:!1},(function(){alert("TDPlus Department Updated"),window.location="/manage-department"}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(a.jsxs)("form",{method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Department Name ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",value:this.state.department_name,type:"text",name:"department_name",placeholder:"Department Name",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin-large-top",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right uk-width-2-3@m slider_btn",children:"Update Department"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Updating Department ..."]})]})]})}}]),s}(c.a.Component),Ye=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).checkcookie=function(){""!==Be.get("current_session")&&void 0!==Be.get("current_session")||a.props.history.push("/"),"2"===Be.get("user_type")&&a.props.history.push("/dashboard")},a.getdept=function(){v.a.get(w+"/api/tddepartment/"+Ge).then((function(e){a.setState({dept:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={dept:[]},a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.checkcookie(),this.getdept()}},{key:"render",value:function(){return Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"",children:[Object(a.jsx)("div",{className:"uk-width-auto ",children:Object(a.jsx)("img",{src:M,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-expand uk-margin-small-top",children:[Object(a.jsx)("h3",{className:"uk-text-left uk-margin-remove",children:"Manage Users"}),Object(a.jsx)("p",{className:"uk-text-small uk-width-medium uk-margin-remove",children:"Manage TDPlus Administrator Users"})]})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"uk-text-left","data-uk-grid":!0,children:Object(a.jsx)("div",{className:"uk-width-2-5@m",children:Object(a.jsxs)("div",{className:"uk-background-muted uk-padding",children:[Object(a.jsxs)("h4",{className:"uk-text-left uk-margin",children:["Currently Editing Department: ",Object(a.jsx)("span",{className:"red",children:this.state.dept.department_name})]}),Object(a.jsx)(Ke,{dept:this.state.dept})]})})})]})})})]})}}]),s}(i.Component),ze=new N.a,Ze=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.ticket.status){case 1:e=Object(a.jsx)("p",{className:"green",children:"Open"});break;case 2:e=Object(a.jsx)("p",{className:"blue",children:"Pending"});break;case 3:e=Object(a.jsx)("p",{className:"black",children:"On-Hold"});break;case 4:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Awaiting"});break;case 5:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Recieved"});break;default:e=Object(a.jsx)("p",{className:"red",children:"Closed"})}var t="";switch(this.props.ticket.warranty_status){case 1:t=Object(a.jsxs)("p",{className:"green",children:[Object(a.jsx)("img",{className:"",src:V,alt:"active warranty  ",width:"25"})," Active"]});break;default:t=Object(a.jsxs)("p",{className:"amber",children:[Object(a.jsx)("img",{className:"",src:G,alt:"active warranty  ",width:"25"})," Expired"]})}if(this.props.ticket.status)return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:this.props.ticket.warrantyserial_id[0].product_id[0].device_name}),Object(a.jsx)("td",{children:e}),Object(a.jsx)("td",{children:this.props.ticket.job_tag}),Object(a.jsx)("td",{children:this.props.ticket.serial}),Object(a.jsx)("td",{children:this.props.ticket.customer_name}),Object(a.jsx)("td",{children:new Date(this.props.ticket.ticket_date).toDateString()}),6!==this.props.ticket.status&&Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/update/"+this.props.ticket._id,className:"uk-button uk-button-small small_orange_btn",children:"Update"})}),6!==this.props.ticket.status&&Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/tracker/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"TRACK"})}),6===this.props.ticket.status&&Object(a.jsx)("td",{colSpan:"2",children:Object(a.jsx)("a",{href:"/tracker/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"View Closed Ticket"})})]})}}]),s}(c.a.Component),Qe=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.ticket.status){case 1:e=Object(a.jsx)("p",{className:"green",children:"Open"});break;case 2:e=Object(a.jsx)("p",{className:"blue",children:"Pending"});break;case 3:e=Object(a.jsx)("p",{className:"black",children:"On-Hold"});break;case 4:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Awaiting"});break;case 5:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Recieved"});break;default:e=Object(a.jsx)("p",{className:"red",children:"Closed"})}var t="";switch(this.props.ticket.warranty_status){case 1:t=Object(a.jsxs)("p",{className:"green",children:[Object(a.jsx)("img",{className:"",src:V,alt:"active warranty  ",width:"25"})," Active"]});break;default:t=Object(a.jsxs)("p",{className:"amber",children:[Object(a.jsx)("img",{className:"",src:G,alt:"active warranty  ",width:"25"})," Expired"]})}return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),this.props.ticket?Object(a.jsx)("td",{children:this.props.ticket.device_name}):Object(a.jsx)("td",{children:this.props.ticket.warrantyserial_id[0].product_id[0].device_name}),Object(a.jsx)("td",{children:e}),Object(a.jsx)("td",{children:this.props.ticket.job_tag}),Object(a.jsx)("td",{children:this.props.ticket.serial}),Object(a.jsx)("td",{children:this.props.ticket.customer_name}),Object(a.jsx)("td",{children:new Date(this.props.ticket.ticket_date).toDateString()}),6!==this.props.ticket.status&&Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/update-offline/"+this.props.ticket._id,className:"uk-button uk-button-small small_orange_btn",children:"Update"})}),6!==this.props.ticket.status&&Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/tracker-offline/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"TRACK"})}),6===this.props.ticket.status&&Object(a.jsx)("td",{colSpan:"2",children:Object(a.jsx)("a",{href:"/tracker-offline/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"View Closed Ticket"})})]})}}]),s}(c.a.Component),Xe=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).checkcookie=function(){""!==ze.get("current_session")&&void 0!==ze.get("current_session")||a.props.history.push("/")},a.getUser=function(){v.a.get(w+"/api/tdgetuser/"+ze.get("current_session")).then((function(e){a.setState({user:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getOpenTickets=function(){v.a.get(w+"/api/getopen/").then((function(e){a.setState({OpenTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getPendingTickets=function(){v.a.get(w+"/api/getpending/").then((function(e){a.setState({PendingTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getOnHoldTickets=function(){v.a.get(w+"/api/getonhold/").then((function(e){a.setState({OnHoldTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getAwaitingTickets=function(){v.a.get(w+"/api/getpartsawaiting/").then((function(e){a.setState({AwaitingTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getRecievedTickets=function(){v.a.get(w+"/api/getpartsrecieved/").then((function(e){a.setState({RecievedTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getClosedTickets=function(){v.a.get(w+"/api/getclosed/").then((function(e){a.setState({ClosedTickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getTickets=function(){v.a.get(w+"/api/tdjobticket/").then((function(e){a.setState({tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getOfflineTickets=function(){v.a.get(w+"/api/tdofflinejobticket/").then((function(e){a.setState({offline_tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={OpenTickets:[],PendingTickets:[],OnHoldTickets:[],AwaitingTickets:[],RecievedTickets:[],ClosedTickets:[],user:[],tickets:[],offline_tickets:[]},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.checkcookie(),this.getUser(),this.getOpenTickets(),this.getPendingTickets(),this.getOnHoldTickets(),this.getAwaitingTickets(),this.getRecievedTickets(),this.getClosedTickets(),this.getTickets(),this.getOfflineTickets()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={job_tag:this.state.job_tag,warranty_status:this.state.warranty_status,serial:this.state.serial_number};this.setState({isProcessing:!0}),v.a.post(w+"/api/searchjobticket/",s).then((function(e){console.log(e.data),t.setState({isProcessing:!1,tickets:e.data})})).catch((function(e){e.response&&console.log(e)})),v.a.post(w+"/api/searchofflinejobticket/",s).then((function(e){console.log(e.data),t.setState({isProcessing:!1,offline_tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){var e=this.state.OpenTickets+this.state.PendingTickets+this.state.OnHoldTickets+this.state.AwaitingTickets+this.state.RecievedTickets+this.state.ClosedTickets;return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding ",children:[Object(a.jsx)("div",{className:"uk-margin-large",children:Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:W,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h3",{className:"uk-text-left uk-margin-remove",children:"Reports"}),Object(a.jsx)("p",{className:"uk-text-small uk-width-medium uk-margin-remove",children:"Search and Generate Reports"})]})]})}),Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsxs)("div",{className:"uk-width-1-3@l uk-width-1-3@m uk-width-1-2@s",children:[Object(a.jsxs)("p",{className:"uk-margin-remove",children:["Open Jobs ",Object(a.jsxs)("span",{className:"open_percentage uk-margin-left",children:[(100*this.state.OpenTickets/e).toFixed(1),"%"]})]}),Object(a.jsx)("h1",{className:"uk-margin-remove uk-heading-large uk-text-bold ",children:this.state.OpenTickets}),Object(a.jsxs)("p",{className:"uk-margin-remove",children:[this.state.OpenTickets," Devices"]})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@l uk-width-1-3@m uk-width-1-2@s",children:[Object(a.jsxs)("p",{className:"uk-margin-remove",children:["Pending Jobs ",Object(a.jsxs)("span",{className:"pending_percentage uk-margin-left",children:[(100*this.state.PendingTickets/e).toFixed(1),"%"]})]}),Object(a.jsxs)("h1",{className:"uk-margin-remove uk-heading-large uk-text-bold ",children:[this.state.PendingTickets," "]}),Object(a.jsxs)("p",{className:"uk-margin-remove",children:[this.state.PendingTickets,"  Devices"]})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@l uk-width-1-3@m uk-width-1-2@s",children:[Object(a.jsxs)("p",{className:"uk-margin-remove",children:["Parts Awaiting ",Object(a.jsxs)("span",{className:"pending_percentage uk-margin-left",children:[(100*this.state.AwaitingTickets/e).toFixed(1),"%"]})]}),Object(a.jsx)("h1",{className:"uk-margin-remove uk-heading-large uk-text-bold ",children:this.state.AwaitingTickets}),Object(a.jsxs)("p",{className:"uk-margin-remove",children:[this.state.AwaitingTickets," Devices"]})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@l uk-width-1-3@m uk-width-1-2@s",children:[Object(a.jsxs)("p",{className:"uk-margin-remove",children:["Parts Recieved ",Object(a.jsxs)("span",{className:"pending_percentage uk-margin-left",children:[(100*this.state.RecievedTickets/e).toFixed(1),"%"]})]}),Object(a.jsx)("h1",{className:"uk-margin-remove uk-heading-large uk-text-bold ",children:this.state.RecievedTickets}),Object(a.jsxs)("p",{className:"uk-margin-remove",children:[this.state.RecievedTickets," Devices"]})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@l uk-width-1-3@m uk-width-1-2@s",children:[Object(a.jsxs)("p",{className:"uk-margin-remove",children:["Jobs On-Hold ",Object(a.jsxs)("span",{className:"onhold_percentage uk-margin-left",children:[(100*this.state.OnHoldTickets/e).toFixed(1),"%"]})]}),Object(a.jsxs)("h1",{className:"uk-margin-remove uk-heading-large uk-text-bold ",children:[this.state.OnHoldTickets," "]}),Object(a.jsxs)("p",{className:"uk-margin-remove",children:[this.state.OnHoldTickets,"  Devices"]})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@l uk-width-1-3@m uk-width-1-2@s",children:[Object(a.jsxs)("p",{className:"uk-margin-remove",children:["Closed Jobs ",Object(a.jsxs)("span",{className:"closed_percentage uk-margin-left",children:[(100*this.state.ClosedTickets/e).toFixed(1),"%"]})]}),Object(a.jsx)("h1",{className:"uk-margin-remove uk-heading-large uk-text-bold ",children:this.state.ClosedTickets}),Object(a.jsxs)("p",{className:"uk-margin-remove",children:[this.state.ClosedTickets," Devices"]})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-margin-medium-top ","data-uk-grid":!0,children:Object(a.jsx)("div",{className:"uk-width-1-2@m ",children:Object(a.jsx)("a",{href:"/report-search",children:Object(a.jsx)("div",{className:"uk-card uk-card-default uk-card-small uk-card-body uk-text-left tool_card",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-6",children:Object(a.jsx)("img",{src:E,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-small",children:"Generate Reports "}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-small",children:"Generate Realtime Reports based on Search Filters and Parameters "})]})]})})})})}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsx)("h4",{className:"uk-text-bold",children:"Search"}),Object(a.jsxs)("form",{method:"POST","data-uk-grid":!0,onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-width-1-4@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Tag ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"job_tag",placeholder:"Job Tag",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-width-1-4@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Serial Number ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"serial_number",placeholder:"Serial Number",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-width-1-4@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Status ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsxs)("select",{className:"uk-input calc_input uk-margin-small-top",name:"warranty_status",onChange:this.handleInputChange,children:[Object(a.jsx)("option",{value:"",children:"Select Warranty Status"}),Object(a.jsx)("option",{value:"",children:"All"}),Object(a.jsx)("option",{value:"1",children:"Active Warranty"}),Object(a.jsx)("option",{value:"2",children:"Expired (Out of Warranty)"})]})]}),Object(a.jsxs)("div",{className:"uk-margin-top uk-width-auto",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Search"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Searching..."]})]})]})]})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("div",{className:"uk-overflow-auto uk-padding",children:[Object(a.jsxs)("p",{className:"uk-text-left uk-text-meta uk-margin-remove",children:["Showing ",this.state.tickets.length+this.state.offline_tickets.length," Job Tickets"]}),Object(a.jsxs)("table",{className:"uk-table uk-table-striped uk-overflow-auto",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"uk-text-bold red",children:"Warranty Status"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Device Name"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Job Status"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Job Tag"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Serial Number"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Customer Name"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:" Ticket Date"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"\xa0"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"\xa0"})]})}),Object(a.jsxs)("tbody",{children:[this.state.tickets.map((function(e){return Object(a.jsx)(Ze,{index:e._id,ticket:e},e._id)})),this.state.offline_tickets.map((function(e){return Object(a.jsx)(Qe,{index:e._id,ticket:e},e._id)}))]})]})]})})]})})})]})})}}]),s}(c.a.Component),$e=new N.a,et=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).checkcookie=function(){""!==$e.get("current_session")&&void 0!==$e.get("current_session")||a.props.history.push("/")},a.state={password:"",confirmpassword:"",isProcessing:!1,passwordnomatch:!1},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.checkcookie()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){if(e.preventDefault(),this.state.password!==this.state.confirmpassword)this.setState({passwordnomatch:!0});else{this.setState({isProcessing:!0});var t={email:this.state.email,password:this.state.password};v.a.put(w+"/api/tdupdatepassword/"+$e.get("current_session"),t).then((function(e){200===e.status&&(alert("Password Changed Successfully.\n\n You will be redirected to your login page shortly."),window.location="/logout")})).catch((function(e){console.log(e)}))}}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("section",{className:"uk-section uk-section-muted","data-uk-height-viewport":!0,children:Object(a.jsx)("div",{className:"uk-container",children:Object(a.jsxs)("div",{className:"uk-position-cover uk-flex uk-flex-center uk-flex-middle uk-flex-column uk-text-center",children:[Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsx)("img",{src:f,alt:"logo",width:"200"})}),Object(a.jsxs)("div",{className:"uk-card uk-card-default uk-card-body ",children:[Object(a.jsxs)("p",{children:["Before You Proceed To The Dashboard, ",Object(a.jsx)("br",{})," Change Your Password"]}),Object(a.jsxs)("form",{className:"uk-margin-medium-top",method:"POST",onSubmit:this.handleSubmit,children:[this.state.passwordnomatch&&Object(a.jsx)("div",{className:"uk-alert-danger","data-uk-alert":!0,children:Object(a.jsx)("p",{children:"Error! Passwords Do Not Match."})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsx)("input",{className:"uk-input uk-width-medium",type:"password",name:"password",placeholder:"Password",onChange:this.handleInputChange,required:!0})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsx)("input",{className:"uk-input uk-width-medium",type:"password",name:"confirmpassword",placeholder:"Confirm Password",onChange:this.handleInputChange,required:!0})}),Object(a.jsxs)("div",{className:"uk-margin",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-button-small uk-width-1-1@m orange_btn",children:"UPDATE PASSWORD"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Updating Password"]})]})]})]})]})})}),Object(a.jsx)("section",{className:"uk-position-bottom uk-section-default uk-padding-small ",children:Object(a.jsx)("p",{className:"uk-text-left uk-text-bold footer_subtxt uk-margin-remove",children:"\xa9 2020 Zinox Technologies Ltd."})})]})}}]),s}(c.a.Component),tt=new N.a,st=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){var e;Object(b.a)(this,s);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).logout=function(){tt.remove("current_session",{path:"/",expires:new Date(Date.now())}),tt.remove("user_type",{path:"/",expires:new Date(Date.now())}),e.props.history.push("/")},e}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.logout()}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"uk-padding uk-text-center",children:[Object(a.jsx)("h1",{children:"Goodbye!"}),Object(a.jsx)("p",{children:"Logging you out of the Platform"}),Object(a.jsx)("a",{href:"/",children:"Back to Home"})]})}}]),s}(c.a.Component),at=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.ticket.status){case 1:e=Object(a.jsx)("p",{className:"green",children:"Open"});break;case 2:e=Object(a.jsx)("p",{className:"blue",children:"Pending"});break;case 3:e=Object(a.jsx)("p",{className:"black",children:"On-Hold"});break;case 4:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Awaiting"});break;case 5:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Recieved"});break;default:e=Object(a.jsx)("p",{className:"red",children:"Closed"})}var t="";switch(this.props.ticket.warranty_status){case 1:t=Object(a.jsxs)("p",{className:"green",children:[Object(a.jsx)("img",{className:"",src:V,alt:"active warranty  ",width:"25"})," Active"]});break;default:t=Object(a.jsxs)("p",{className:"amber",children:[Object(a.jsx)("img",{className:"",src:G,alt:"active warranty  ",width:"25"})," Expired"]})}if(this.props.ticket.status)return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:this.props.ticket.warrantyserial_id[0].product_id[0].device_name}),Object(a.jsx)("td",{children:e}),Object(a.jsx)("td",{children:this.props.ticket.job_tag}),Object(a.jsx)("td",{children:this.props.ticket.serial}),Object(a.jsx)("td",{children:this.props.ticket.customer_name}),Object(a.jsx)("td",{children:new Date(this.props.ticket.ticket_date).toDateString()}),Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/tracker/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"View"})})]})}}]),s}(c.a.Component),it=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.ticket.status){case 1:e=Object(a.jsx)("p",{className:"green",children:"Open"});break;case 2:e=Object(a.jsx)("p",{className:"blue",children:"Pending"});break;case 3:e=Object(a.jsx)("p",{className:"black",children:"On-Hold"});break;case 4:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Awaiting"});break;case 5:e=Object(a.jsx)("p",{className:"blue",children:"Parts-Recieved"});break;default:e=Object(a.jsx)("p",{className:"red",children:"Closed"})}var t="";switch(this.props.ticket.warranty_status){case 1:t=Object(a.jsxs)("p",{className:"green",children:[Object(a.jsx)("img",{className:"",src:V,alt:"active warranty  ",width:"25"})," Active"]});break;default:t=Object(a.jsxs)("p",{className:"amber",children:[Object(a.jsx)("img",{className:"",src:G,alt:"active warranty  ",width:"25"})," Expired"]})}return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:this.props.ticket.device_name}),Object(a.jsx)("td",{children:e}),Object(a.jsx)("td",{children:this.props.ticket.job_tag}),Object(a.jsx)("td",{children:this.props.ticket.serial}),Object(a.jsx)("td",{children:this.props.ticket.customer_name}),Object(a.jsx)("td",{children:new Date(this.props.ticket.ticket_date).toDateString()}),Object(a.jsx)("td",{children:Object(a.jsx)("a",{href:"/tracker-offline/"+this.props.ticket._id,className:"uk-button uk-button-small small_slider_btn",children:"View"})})]})}}]),s}(c.a.Component),ct=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getTickets=function(){v.a.get(w+"/api/tdjobticket/").then((function(e){a.setState({tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getOfflineTickets=function(){v.a.get(w+"/api/tdofflinejobticket/").then((function(e){a.setState({offline_tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getEngineers=function(){v.a.get(w+"/api/tdengineer/").then((function(e){a.setState({engineers:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getDepartments=function(){v.a.get(w+"/api/tddepartment/").then((function(e){a.setState({departments:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.getLocations=function(){v.a.get(w+"/api/tdlocations/").then((function(e){a.setState({locations:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.handleEngineerChange=function(e){a.setState({engineer_id:e.value})},a.handlLocationChange=function(e){a.setState({location_id:e.value})},a.handlDepartmentChange=function(e){a.setState({department_id:e.value})},a.state={engineers:[],departments:[],locations:[],tickets:[],offline_tickets:[]},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getTickets(),this.getOfflineTickets(),this.getEngineers(),this.getDepartments(),this.getLocations()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={serial:this.state.serial_number,department_id:this.state.department_id,engineer_id:this.state.engineer_id,location_id:this.state.location_id,customer_name:this.state.customer_name,customer_phone:this.state.customer_phone,customer_email:this.state.customer_email,from_date:this.state.from_date,to_date:this.state.to_date,status:this.state.status};console.log(s),this.setState({isProcessing:!0}),v.a.post(w+"/api/generatereport/",s).then((function(e){t.setState({isProcessing:!1,tickets:e.data})})).catch((function(e){e.response&&console.log(e)})),v.a.post(w+"/api/generateofflinereport/",s).then((function(e){console.log(e.data),t.setState({isProcessing:!1,offline_tickets:e.data})})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){var e=this.state.engineers.map((function(e,t){return{label:e.engineer_name,value:e._id,key:t}})),t=this.state.departments.map((function(e,t){return{label:e.department_name,value:e._id,key:t}})),s=this.state.locations.map((function(e,t){return{label:e.address,value:e._id,key:t}}));return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:W,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Generate Reports"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Generate Realtime Reports based on Search Filters and Parameters"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[Object(a.jsx)("h4",{className:"uk-text-bold",children:"Search"}),Object(a.jsxs)("form",{method:"POST","data-uk-grid":!0,onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-width-1-3@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Status ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsxs)("select",{className:"uk-input calc_input uk-margin-small-top",name:"status",onChange:this.handleInputChange,children:[Object(a.jsx)("option",{value:"",children:"Select Job Status"}),Object(a.jsx)("option",{value:"1",children:"Open"}),Object(a.jsx)("option",{value:"2",children:"Pending"}),Object(a.jsx)("option",{value:"3",children:"On-Hold"}),Object(a.jsx)("option",{value:"4",children:"Parts-Awaiting"}),Object(a.jsx)("option",{value:"5",children:"Parts-Recieved"}),Object(a.jsx)("option",{value:"6",children:"Closed"})]})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Engineer Responsible ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)(z.a,{className:"calc_input uk-margin-small-top",options:e,name:"engineer_id",onChange:this.handleEngineerChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Department ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)(z.a,{className:"calc_input uk-margin-small-top",options:t,name:"department_id",onChange:this.handlDepartmentChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Store Location ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)(z.a,{className:"calc_input uk-margin-small-top",options:s,name:"location_id",onChange:this.handlLocationChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Customer Name ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"customer_name",placeholder:"Customer Name",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Customer Email ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"customer_email",placeholder:"Customer Email",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Customer Phone ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"customer_phone",placeholder:"Customer Phone",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["From ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"date",name:"from_date",placeholder:"From Date",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-width-1-3@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["To ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"date",name:"to_date",placeholder:"To Date",onChange:this.handleInputChange})]}),Object(a.jsxs)("div",{className:"uk-margin-top uk-width-auto",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right orange_btn",children:"Generate Report"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Searching..."]}),Object(a.jsx)("a",{href:"/report-search",className:"uk-button uk-margin-right outline_btn",children:"Clear Search"})]})]})]})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("div",{className:"uk-overflow-auto uk-padding",children:[Object(a.jsxs)("p",{className:"uk-text-left uk-text-meta uk-margin-remove",children:["Showing ",this.state.tickets.length+this.state.offline_tickets.length," Job Tickets"]}),Object(a.jsxs)("table",{className:"uk-table uk-table-striped uk-overflow-auto",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"uk-text-bold red",children:"Warranty Status"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Device Name"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Job Status"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Job Tag"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Serial Number"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"Customer Name"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:" Ticket Date"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"\xa0"}),Object(a.jsx)("th",{className:"uk-text-bold red",children:"\xa0"})]})}),Object(a.jsxs)("tbody",{children:[this.state.tickets.map((function(e){return Object(a.jsx)(at,{index:e._id,ticket:e},e._id)})),this.state.offline_tickets.map((function(e){return Object(a.jsx)(it,{index:e._id,ticket:e},e._id)}))]})]}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("a",{href:"/",onClick:function(){return window.print()},className:"uk-button uk-margin-right black_btn",children:"Print Report"})})]})})]})})})]})})}}]),s}(c.a.Component),nt=window.location.href.split("/").pop(),rt=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.update.stage){case 1:e=Object(a.jsx)("img",{alt:"",src:$});break;case 2:case 4:case 5:e=Object(a.jsx)("img",{alt:"",src:ee});break;case 3:e=Object(a.jsx)("img",{alt:"",src:te});break;default:e=Object(a.jsx)("img",{alt:"",src:se})}return Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:this.props.update.title}),Object(a.jsx)("p",{children:this.props.update.description})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:Object(a.jsx)("p",{children:new Date(this.props.update.create_date).toDateString()})})]})})}}]),s}(c.a.Component),dt=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getTicket=function(){v.a.get(w+"/api/tdofflinejobticketid/"+nt).then((function(e){a.setState({ticket:e.data[0]})})).catch((function(e){e.response&&console.log(e)}))},a.getUpdates=function(){v.a.get(w+"/api/tdupdates/"+nt).then((function(e){a.setState({updates:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={ticket:[],updates:[],isProcessing:!1,title:"",description:"",stage:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getTicket(),this.getUpdates()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={ticket_id:nt,offlineticket_id:nt,title:this.state.title,description:this.state.description,stage:this.state.stage};this.setState({isProcessing:!0}),v.a.post(w+"/api/tdupdatesoffline/",s).then((function(e){201===e.status&&""!==e.data&&(t.setState({isProcessing:!1}),alert("Ticket Updated"),t.props.history.push("/tracker-offline/"+nt))})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){console.log(this.state.ticket);var e="";1===this.state.ticket.warranty_status?e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"green",children:"Active"})]}):2===this.state.ticket.warranty_status&&(e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:G,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"amber",children:"Expired"})]}));var t="";switch(this.state.ticket.status){case 1:t=Object(a.jsx)("span",{className:"green",children:"Open"});break;case 2:t=Object(a.jsx)("span",{className:"blue",children:"Pending"});break;case 3:t=Object(a.jsx)("span",{className:"black",children:"On-Hold"});break;case 4:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Awaiting"});break;case 5:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Recieved"});break;default:t=Object(a.jsx)("span",{className:"red",children:"Closed"})}return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:U,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Update Job Ticket"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Update Job ticket for Open, Pending Jobs and On-Hold Jobs"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[this.state.ticket.department_id&&Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("h4",{className:"uk-text-bold",children:["Job Status: ",t]})}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Name :"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m ",children:Object(a.jsx)("p",{children:this.state.ticket.device_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.device_model})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.device_information})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Engineer"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Location"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.location_id[0].address})})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Name"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Email / Phone Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("p",{children:[this.state.ticket.customer_email," / ",this.state.ticket.customer_phone]})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Address"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_address})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Department"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.department_id[0].department_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Proof of Purchase"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsxs)("p",{children:[this.state.ticket.proof_purchase," ",Object(a.jsx)("a",{target:"blank_",href:w+"/uploads/"+this.state.ticket.proof_purchase,children:"View"})]})})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-remove",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Job Description"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.job_description})})]})]}),Object(a.jsx)("div",{})]})}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-large",children:[Object(a.jsx)("h3",{className:"uk-text-bold tag",children:Object(a.jsxs)("span",{children:["Job Tag: ",this.state.ticket.job_tag]})}),Object(a.jsx)("a",{href:"/part-order-offline/"+this.state.ticket._id,className:"uk-button uk-margin-right blue_btn",children:"Make Part Order"})]}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("button",{className:"uk-button  blue",type:"button","data-uk-toggle":"target: #toggle-usage",children:[" ",Object(a.jsx)("span",{"uk-icon":"icon: settings; ratio: 0.8",children:" "}),"  Toggle Tracker Visibility"]})}),Object(a.jsxs)("div",{id:"toggle-usage","data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:Object(a.jsx)("img",{alt:"",src:$})}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:"Device Recieved at TDPlus Service Center"}),Object(a.jsxs)("p",{children:[this.state.ticket.device_name," received at the service center"]}),this.state.ticket.location_id&&Object(a.jsxs)("p",{children:[this.state.ticket.location_id[0].address," "]})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:this.state.ticket.location_id&&Object(a.jsx)("p",{children:new Date(this.state.ticket.ticket_date).toDateString()})})]})}),this.state.updates.map((function(e){return Object(a.jsx)(rt,{index:e._id,update:e},e._id)}))]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),6!==this.state.ticket.status&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"uk-text-bold ",children:Object(a.jsx)("span",{children:"Update Ticket"})}),Object(a.jsxs)("form",{"data-uk-grid":!0,method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Update Title ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("input",{className:"uk-input calc_input uk-margin-small-top",type:"text",name:"title",placeholder:"Enter Update title",onChange:this.handleInputChange,required:!0})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-top",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Job Update Description ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input uk-margin-small-top",rows:"10",name:"description",placeholder:"Enter description",onChange:this.handleInputChange})]})]}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Device Support Stage  ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsxs)("select",{className:"uk-input calc_input uk-margin-small-top",name:"stage",onChange:this.handleInputChange,required:!0,children:[Object(a.jsx)("option",{value:"",children:"Select Support Stage "}),Object(a.jsx)("option",{value:"1",children:"Open"}),Object(a.jsx)("option",{value:"2",children:"Pending"}),Object(a.jsx)("option",{value:"3",children:"On-Hold"})]})]})}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Update Ticket"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Updating Job Ticket..."]})]})]})]})]})})})]})})}}]),s}(c.a.Component),lt=window.location.href.split("/").pop(),ht=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(){return Object(b.a)(this,s),t.apply(this,arguments)}return Object(k.a)(s,[{key:"render",value:function(){var e="";switch(this.props.update.stage){case 1:e=Object(a.jsx)("img",{alt:"",src:$});break;case 2:case 4:case 5:e=Object(a.jsx)("img",{alt:"",src:ee});break;case 3:e=Object(a.jsx)("img",{alt:"",src:te});break;default:e=Object(a.jsx)("img",{alt:"",src:se})}return Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:this.props.update.title}),Object(a.jsx)("p",{children:this.props.update.description})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:Object(a.jsx)("p",{children:new Date(this.props.update.create_date).toDateString()})})]})})}}]),s}(c.a.Component),jt=function(e){Object(p.a)(s,e);var t=Object(O.a)(s);function s(e){var a;return Object(b.a)(this,s),(a=t.call(this,e)).getTicket=function(){v.a.get(w+"/api/tdofflinejobticketid/"+lt).then((function(e){a.setState({ticket:e.data[0]})})).catch((function(e){e.response&&console.log(e)}))},a.getUpdates=function(){v.a.get(w+"/api/tdupdates/"+lt).then((function(e){a.setState({updates:e.data})})).catch((function(e){e.response&&console.log(e)}))},a.state={ticket:[],updates:[],isProcessing:!1,title:"",description:"",stage:""},a.handleInputChange=a.handleInputChange.bind(Object(x.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(x.a)(a)),a}return Object(k.a)(s,[{key:"componentDidMount",value:function(){this.getTicket(),this.getUpdates()}},{key:"handleInputChange",value:function(e){this.setState(Object(o.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var s={offlineticket_id:lt,ticket_id:lt,description:this.state.description,stage:this.state.stage};this.setState({isProcessing:!0}),v.a.post(w+"/api/tdupdatesoffline/",s).then((function(e){201===e.status&&""!==e.data&&(t.setState({isProcessing:!1}),alert("Ticket Updated"),t.props.history.push("/tracker-offline/"+lt))})).catch((function(e){e.response&&console.log(e)}))}},{key:"render",value:function(){var e="";1===this.state.ticket.warranty_status?e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:V,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"green",children:"Active"})]}):2===this.state.ticket.warranty_status&&(e=Object(a.jsxs)("h4",{className:"uk-text-left uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:G,alt:"active warranty  "}),"Warranty Status for Device: ",Object(a.jsx)("span",{className:"amber",children:"Expired"})]}));var t="";switch(this.state.ticket.status){case 1:t=Object(a.jsx)("span",{className:"green",children:"Open"});break;case 2:t=Object(a.jsx)("span",{className:"blue",children:"Pending"});break;case 3:t=Object(a.jsx)("span",{className:"black",children:"On-Hold"});break;case 4:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Awaiting"});break;case 5:t=Object(a.jsx)("span",{className:"blue",children:"Parts-Recieved"});break;default:t=Object(a.jsx)("span",{className:"red",children:"Closed"})}return Object(a.jsx)("div",{children:Object(a.jsxs)("section",{className:"uk-grid-small uk-grid-match uk-text-left","data-uk-grid":!0,"data-uk-height-viewport":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)(A,{})}),Object(a.jsx)("div",{className:"uk-width-expand uk-padding-remove",children:Object(a.jsx)("div",{className:"uk-width-1-1",children:Object(a.jsxs)("div",{className:"uk-padding",children:[Object(a.jsxs)("div",{"data-uk-grid":!0,className:"uk-grid-medium",children:[Object(a.jsx)("div",{className:"uk-width-auto",children:Object(a.jsx)("img",{src:U,width:"80",alt:"icon"})}),Object(a.jsxs)("div",{className:"uk-width-5-6",children:[Object(a.jsx)("h4",{className:"uk-text-normal uk-margin-top uk-margin-remove-bottom",children:"Make Part Order"}),Object(a.jsx)("p",{className:"uk-text-small uk-margin-remove",children:"Request for Part Order from Zinox for a Device"})]})]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-background-muted uk-padding",children:Object(a.jsxs)("div",{className:"uk-margin",children:[this.state.ticket.department_id&&Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("h4",{className:"uk-text-bold",children:["Job Status: ",t]})}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:e}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Name :"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m ",children:Object(a.jsx)("p",{children:this.state.ticket.device_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Model"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.device_model})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Serial Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-remove",children:Object(a.jsx)("p",{children:this.state.ticket.serial})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Device Information"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.device_information})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Engineer"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.engineer_id[0].engineer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Location"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.location_id[0].address})})]}),Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Warranty type"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:"Original Manufacturer Warranty"})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Name"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Email / Phone Number"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("p",{children:[this.state.ticket.customer_email," / ",this.state.ticket.customer_phone]})}),Object(a.jsx)("div",{className:"uk-width-1-4@m ",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Customer Address"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.customer_address})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Department"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.department_id[0].department_name})}),Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Proof of Purchase"})}),Object(a.jsx)("div",{className:"uk-width-3-4@m",children:Object(a.jsxs)("p",{children:[this.state.ticket.proof_purchase," ",Object(a.jsx)("a",{target:"blank_",href:w+"/uploads/"+this.state.ticket.proof_purchase,children:"View"})]})})]}),Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-remove",children:[Object(a.jsx)("div",{className:"uk-width-1-4@m",children:Object(a.jsx)("h5",{className:"uk-text-bold uk-margin-remove",children:"Job Description"})}),Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsx)("p",{children:this.state.ticket.job_description})})]})]}),Object(a.jsx)("div",{})]})}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),Object(a.jsx)("div",{className:"uk-width-1-1@m uk-margin-large",children:Object(a.jsx)("h3",{className:"uk-text-bold tag",children:Object(a.jsxs)("span",{children:["Job Tag: ",this.state.ticket.job_tag]})})}),Object(a.jsx)("div",{className:"uk-margin",children:Object(a.jsxs)("button",{className:"uk-button  blue",type:"button","data-uk-toggle":"target: #toggle-usage",children:[" ",Object(a.jsx)("span",{"uk-icon":"icon: settings; ratio: 0.8",children:" "}),"  Toggle Tracker Visibility"]})}),Object(a.jsxs)("div",{id:"toggle-usage","data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-1-1@m",children:Object(a.jsxs)("div",{"data-uk-grid":!0,children:[Object(a.jsx)("div",{className:"uk-width-auto@m",children:Object(a.jsx)("img",{alt:"",src:$})}),Object(a.jsxs)("div",{className:"uk-width-3-5@m",children:[Object(a.jsx)("h3",{className:"uk-text-bold",children:"Device Recieved at TDPlus Service Center"}),this.state.ticket.warrantyserial_id&&Object(a.jsxs)("p",{children:[this.state.ticket.warrantyserial_id[0].product_id[0].device_name," received at the service center"]}),this.state.ticket.warrantyserial_id&&Object(a.jsxs)("p",{children:[this.state.ticket.location_id[0].address," "]})]}),Object(a.jsx)("div",{className:"uk-width-1-5@m",children:this.state.ticket.warrantyserial_id&&Object(a.jsx)("p",{children:new Date(this.state.ticket.ticket_date).toDateString()})})]})}),this.state.updates.map((function(e){return Object(a.jsx)(ht,{index:e._id,update:e},e._id)}))]}),Object(a.jsx)("hr",{className:"uk-margin-medium"}),6!==this.state.ticket.status&&Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"uk-text-bold ",children:Object(a.jsx)("span",{children:"Request for Spare Parts"})}),Object(a.jsxs)("form",{"data-uk-grid":!0,method:"POST",onSubmit:this.handleSubmit,children:[Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("div",{className:"uk-width-1-1@m uk-margin-top",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Part Request Description ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsx)("textarea",{className:"uk-textarea calc_input uk-margin-small-top",rows:"10",name:"description",placeholder:"Enter description",onChange:this.handleInputChange})]})}),Object(a.jsx)("div",{className:"uk-width-1-2@m",children:Object(a.jsxs)("div",{className:"uk-width-1-2@m",children:[Object(a.jsxs)("label",{className:"uk-form-label uk-text-bold ",children:["Device Support Stage  ",Object(a.jsx)("span",{className:"red",children:"*"})]}),Object(a.jsxs)("select",{className:"uk-input calc_input uk-margin-small-top",name:"stage",onChange:this.handleInputChange,required:!0,children:[Object(a.jsx)("option",{value:"",children:"Select Support Stage "}),Object(a.jsx)("option",{value:"4",children:"Part Awaiting"}),Object(a.jsx)("option",{value:"5",children:"Part Recieved"})]})]})}),Object(a.jsxs)("div",{className:"uk-width-1-1@m",children:[!this.state.isProcessing&&Object(a.jsx)("button",{type:"submit",className:"uk-button uk-margin-right slider_btn",children:"Update Ticket"}),this.state.isProcessing&&Object(a.jsxs)("h4",{className:"uk-form-label uk-text-bold ",children:[Object(a.jsx)("img",{className:"uk-margin-right",src:_,width:"40",alt:"loader"})," Updating Job Ticket..."]})]})]})]})]})})})]})})}}]),s}(c.a.Component);l.a.use(m.a);var ut=function(){return Object(a.jsx)(h.a,{children:Object(a.jsx)("div",{children:Object(a.jsxs)(j.c,{children:[Object(a.jsx)(j.a,{path:"/",exact:!0,component:S}),Object(a.jsx)(j.a,{path:"/dashboard",exact:!0,component:L}),Object(a.jsx)(j.a,{path:"/create-job",exact:!0,component:Y}),Object(a.jsx)(j.a,{path:"/create-job/:id",exact:!0,component:Q}),Object(a.jsx)(j.a,{path:"/create-job-offline",exact:!0,component:X}),Object(a.jsx)(j.a,{path:"/search",exact:!0,component:de}),Object(a.jsx)(j.a,{path:"/close-ticket-search",exact:!0,component:ge}),Object(a.jsx)(j.a,{path:"/close-ticket/:id",exact:!0,component:we}),Object(a.jsx)(j.a,{path:"/close-ticket-offline/:id",exact:!0,component:ye}),Object(a.jsx)(j.a,{path:"/update/:id",exact:!0,component:ce}),Object(a.jsx)(j.a,{path:"/update-offline/:id",exact:!0,component:dt}),Object(a.jsx)(j.a,{path:"/tracker/:id",exact:!0,component:je}),Object(a.jsx)(j.a,{path:"/tracker-offline/:id",exact:!0,component:oe}),Object(a.jsx)(j.a,{path:"/part-order/:id",exact:!0,component:xe}),Object(a.jsx)(j.a,{path:"/part-order-offline/:id",exact:!0,component:jt}),Object(a.jsx)(j.a,{path:"/manage-user",exact:!0,component:Te}),Object(a.jsx)(j.a,{path:"/edit-user/:id",exact:!0,component:Ee}),Object(a.jsx)(j.a,{path:"/manage-engineer",exact:!0,component:We}),Object(a.jsx)(j.a,{path:"/edit-engineer/:id",exact:!0,component:He}),Object(a.jsx)(j.a,{path:"/manage-department",exact:!0,component:Ve}),Object(a.jsx)(j.a,{path:"/edit-department/:id",exact:!0,component:Ye}),Object(a.jsx)(j.a,{path:"/reports",exact:!0,component:Xe}),Object(a.jsx)(j.a,{path:"/report-search",exact:!0,component:ct}),Object(a.jsx)(j.a,{path:"/password-change",exact:!0,component:et}),Object(a.jsx)(j.a,{path:"/logout",exact:!0,component:st}),Object(a.jsx)(j.a,{component:Se})]})})})};r.a.render(Object(a.jsx)(ut,{}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.1006e0f7.chunk.js.map